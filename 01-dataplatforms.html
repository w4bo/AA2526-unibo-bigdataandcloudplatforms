<!DOCTYPE html>
<html lang="en"><head>
<script src="01-dataplatforms_files/libs/quarto-html/tabby.min.js"></script>
<script src="01-dataplatforms_files/libs/quarto-html/popper.min.js"></script>
<script src="01-dataplatforms_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="01-dataplatforms_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01-dataplatforms_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="01-dataplatforms_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Matteo Francia   DISI — University of Bologna   m.francia@unibo.it">
  <title>Big Data and Cloud Platforms (Module 2)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="01-dataplatforms_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="01-dataplatforms_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="01-dataplatforms_files/libs/revealjs/dist/theme/quarto-6391498a111a1f00b0d941bda0c7e264.css">
  <link href="01-dataplatforms_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="01-dataplatforms_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="01-dataplatforms_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="01-dataplatforms_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Big Data and Cloud Platforms (Module 2)</h1>
  <p class="subtitle">Towards data platforms</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Matteo Francia <br> DISI — University of Bologna <br> m.francia@unibo.it 
</div>
</div>
</div>

</section>
<section id="how-did-we-get-here" class="title-slide slide level1 center">
<h1>How did we get here?</h1>
<p><strong>Data-Driven Innovation</strong></p>
<ul>
<li>Use of data and <em>analytics</em> to foster new products, processes, and markets</li>
<li>Drive discovery and execution of innovation, achieving new services with a business value</li>
</ul>
<p><strong>Analytics</strong></p>
<ul>
<li>A catch-all term for different business intelligence (BI) and application-related initiatives
<ul>
<li>E.g., analyzing information from a particular domain</li>
<li>E.g., applying BI capabilities to a specific content area (e.g., sales, service, supply chain)</li>
</ul></li>
</ul>
<p><strong>Advanced Analytics</strong></p>
<ul>
<li>(Semi-)Autonomous examination of data to discover deeper insights, make predictions, or generate recommendations (e.g., through data/text mining and machine learning)</li>
</ul>
<p><strong>Augmented Analytics</strong></p>
<ul>
<li>Use of technologies such as machine learning and AI to assist with data preparation, insight generation, and insight explanation to augment how people explore and analyze data</li>
</ul>
<p><a href="https://www.gartner.com/en/information-technology/glossary">https://www.gartner.com/en/information-technology/glossary</a> (accessed 2022-08-01)</p>
</section>

<section id="how-did-we-get-here-1" class="title-slide slide level1 center">
<h1>How did we get here?</h1>

<img data-src="img/slides6.png" class="r-stretch quarto-figure-center"><p class="caption">From descriptive to prescriptive analytics</p></section>

<section id="data-platform" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Companies are collecting tons of data to enable advanced analytics.</p>
<ul>
<li>Raw data is difficult to obtain, interpret, and maintain</li>
<li>Data is more and more heterogeneous</li>
<li>There is a need for curating data to make it <em>consumable</em></li>
</ul>
<p>Where are we <em>collecting/processing</em> data?</p>
<ul>
<li>Getting <em>value</em> from data <em>is not</em> (only) a matter of <em>storage</em></li>
<li>Need integrated and multilevel analytical skills and techniques</li>
</ul>
</section>

<section id="data-platform-1" class="title-slide slide level1 center">
<h1>Data platform</h1>
<blockquote>
<p>“It is a capital mistake to theorize before one has data. Insensibly, one begins to twist the facts to suit theories, instead of theories to suit facts.”</p>
<p>– Sherlock Holmes</p>
</blockquote>
<p>Getting <em>value</em> from data <em>is not</em> (only) a matter of <em>storage</em></p>
<ul>
<li>Any example?</li>
</ul>
</section>

<section id="case-study-photo-gallery" class="title-slide slide level1 center" data-background-color="#121011">
<h1><img src="./img/cs.svg" class="title-icon"> Case study: photo gallery</h1>

</section>

<section id="photo-gallery" class="title-slide slide level1 center">
<h1>Photo Gallery</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides7.png"></p>
<figcaption>Google photos</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides8.png"></p>
<figcaption>Google photos</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>
<p>Managing large photo collections is increasingly challenging.</p>
<p>Common issues include:</p>
<ul>
<li>Difficulty searching and organizing images<br>
</li>
<li>Loss of contextual information about each photo<br>
</li>
<li>Time-consuming manual tagging and categorization</li>
</ul>
</section>

<section id="challenges-in-photo-gallery-management" class="title-slide slide level1 center">
<h1>Challenges in Photo Gallery Management</h1>
<ul>
<li>Thousands of images accumulate over time<br>
</li>
<li>Manual metadata entry is slow and error-prone<br>
</li>
<li>Finding images based on content is difficult<br>
</li>
<li>Metadata inconsistency leads to poor searchability</li>
</ul>
</section>

<section id="why-metadata-matters" class="title-slide slide level1 center">
<h1>Why Metadata Matters</h1>
<p>Metadata provides critical information about images:</p>
<ul>
<li>File-level info: name, size, creation date<br>
</li>
<li>Camera info: make, model, GPS, exposure<br>
</li>
<li>Content info: objects, people, and scenes</li>
</ul>
<p>Well-structured metadata enables:</p>
<ul>
<li>Fast search and filtering<br>
</li>
<li>Smarter organization and categorization<br>
</li>
<li>Enhanced user experience</li>
</ul>
</section>

<section id="using-yolo-for-metadata-extraction" class="title-slide slide level1 center">
<h1>Using YOLO for Metadata Extraction</h1>
<p>YOLO (You Only Look Once) is a state-of-the-art object detection system.</p>
<ul>
<li>Automatically detects objects in images<br>
</li>
<li>Provides labels, bounding boxes, and confidence scores<br>
</li>
<li>Converts visual content into structured metadata</li>
</ul>
</section>

<section id="how-yolo-sees-the-image" class="title-slide slide level1 center">
<h1>How YOLO Sees the Image</h1>
<ul>
<li>Input image is divided into a grid (e.g., 13x13)<br>
</li>
<li>Each grid cell is responsible for objects <strong>whose center falls in the cell</strong><br>
</li>
<li>Each cell predicts <strong>bounding boxes + confidence + class probabilities</strong></li>
</ul>
</section>

<section id="what-each-cell-predicts" class="title-slide slide level1 center">
<h1>What Each Cell Predicts</h1>
<p>For each bounding box:</p>
<ul>
<li><strong>Coordinates:</strong> (x, y, width, height)<br>
</li>
<li><strong>Confidence:</strong> probability an object exists × IoU with ground truth<br>
</li>
<li><strong>Class probabilities:</strong> likelihood of each object class</li>
</ul>
</section>

<section id="how-bounding-boxes-are-calculated" class="title-slide slide level1 center">
<h1>How Bounding Boxes Are Calculated</h1>
<ul>
<li>Each cell predicts offsets relative to the cell<br>
</li>
<li>Uses <strong>anchor boxes</strong> for different object sizes<br>
</li>
<li>Confidence score = Pr(object) × IOU(predicted box, ground truth)</li>
</ul>
</section>

<section id="yolo-neural-network" class="title-slide slide level1 center">
<h1>YOLO Neural Network</h1>
<ul>
<li><strong>CNN backbone</strong> extracts features from the image<br>
</li>
<li><strong>Detection layers</strong> predict boxes and class probabilities for all grid cells<br>
</li>
<li>Outputs a single tensor containing all predictions</li>
</ul>
</section>

<section id="post-processing-predictions" class="title-slide slide level1 center">
<h1>Post-Processing Predictions</h1>
<ol type="1">
<li><strong>Thresholding:</strong> Remove boxes with confidence &lt; threshold<br>
</li>
<li><strong>Non-Maximum Suppression (NMS):</strong> Remove overlapping boxes that predict the same object</li>
</ol>
<p>Result: clean set of detected objects with labels, boxes, and confidence</p>
</section>

<section id="yolo-versions" class="title-slide slide level1 center">
<h1>YOLO Versions</h1>
<ul>
<li>YOLOv1: Original, fast, less accurate for small objects<br>
</li>
<li>YOLOv2/v3: Anchor boxes, improved accuracy<br>
</li>
<li>YOLOv4/v5/v8: Modern improvements, faster, real-time capable</li>
</ul>
</section>

<section id="why-yolo-is-fast" class="title-slide slide level1 center">
<h1>Why YOLO is Fast</h1>
<ul>
<li>Single forward pass per image → all objects detected at once<br>
</li>
<li>No sliding windows or region proposals (unlike R-CNN)<br>
</li>
<li>Real-time capable: 30–150 FPS depending on model</li>
</ul>
</section>

<section id="how-yolo-works-in-the-gallery" class="title-slide slide level1 center">
<h1>How YOLO Works in the Gallery</h1>
<ol type="1">
<li>Scan images in the collection<br>
</li>
<li>Detect objects (e.g., person, dog, car)<br>
</li>
<li>Record bounding boxes and confidence<br>
</li>
<li>Generate per-image JSON metadata</li>
</ol>
<p>Example JSON snippet:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource json number-lines"><code class="sourceCode json"><span id="cb1-1"><a href=""></a><span class="fu">{</span></span>
<span id="cb1-2"><a href=""></a>  <span class="dt">"filename"</span><span class="fu">:</span> <span class="st">"dog.jpg"</span><span class="fu">,</span></span>
<span id="cb1-3"><a href=""></a>  <span class="dt">"detections"</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span><span class="dt">"label"</span><span class="fu">:</span> <span class="st">"dog"</span><span class="fu">,</span> <span class="dt">"conf"</span><span class="fu">:</span> <span class="dv">0</span><span class="er">.</span><span class="dv">87</span><span class="fu">}</span><span class="ot">]</span></span>
<span id="cb1-4"><a href=""></a><span class="fu">}</span></span></code></pre></div>
</section>

<section id="mongodb-for-accessible-metadata" class="title-slide slide level1 center">
<h1>MongoDB for Accessible Metadata</h1>
<p>MongoDB stores per-image JSON metadata efficiently:</p>
<ul>
<li>Flexible schema for diverse metadata<br>
</li>
<li>Enables querying by labels, confidence, dates, or GPS<br>
</li>
<li>Scalable for large galleries<br>
</li>
<li>Integrates easily with web apps or dashboards</li>
</ul>
</section>

<section id="making-metadata-accessible" class="title-slide slide level1 center">
<h1>Making Metadata Accessible</h1>
<p>Sample queries:</p>
<ul>
<li>Find all images containing “dog”:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource js number-lines"><code class="sourceCode javascript"><span id="cb2-1"><a href=""></a>db<span class="op">.</span><span class="at">images</span><span class="op">.</span><span class="fu">find</span>({<span class="st">"detections.label"</span><span class="op">:</span> <span class="st">"dog"</span>})</span></code></pre></div>
<ul>
<li>Find images taken after a certain date:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource js number-lines"><code class="sourceCode javascript"><span id="cb3-1"><a href=""></a>db<span class="op">.</span><span class="at">images</span><span class="op">.</span><span class="fu">find</span>({<span class="st">"file_info.created_time"</span><span class="op">:</span> {<span class="st">"$gte"</span><span class="op">:</span> <span class="st">"2025-01-01"</span>}})</span></code></pre></div>
</section>

<section id="end-of-the-case-study" class="title-slide slide level1 center" data-background-color="#121011">
<h1>End of the case study</h1>

</section>

<section id="from-databases-to-data-platforms" class="title-slide slide level1 center">
<h1>From databases to data platforms</h1>

</section>

<section id="data-platform-2" class="title-slide slide level1 center">
<h1>Data platform</h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p><strong>Database</strong> <span class="citation" data-cites="ozsu2018">(<a href="#/references" role="doc-biblioref" onclick="">Özsu 2018</a>)</span></p>
<p>“A database is a <em>structured and persistent collection</em> of information about some aspect of the real world, organized and stored in a way that facilitates efficient retrieval and modification. The structure of a database is determined by an <em>abstract data model</em>. Primarily, it is this structure that differentiates a database from a data file.”</p>
</blockquote>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/20.svg"></p>
<figcaption>Relational database</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-platform-3" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>At the beginning, computer science was seen as a <em>subsidiary discipline</em> that makes information management <em>faster</em> and <em>cheaper</em></p>
<ul>
<li>… but <em>did not create (new) profits in itself</em></li>
</ul>
<p>The main goal of databases in companies has been that of storing <strong>operational data</strong> <span class="citation" data-cites="DBLP:journals/cacm/Codd70">(<a href="#/references" role="doc-biblioref" onclick="">Codd 1970</a>)</span></p>
<ul>
<li>Data generated by operations carried out within business processes</li>
</ul>
<p><strong>Online transaction processing (OLTP)</strong> is a type of database system used in transaction-oriented applications, such as many operational systems.</p>
<ul>
<li>“Online” refers to the fact that such systems are expected to respond to user requests and process them in real-time.</li>
<li>Large number of database transactions (writing and reading data) in real-time</li>
</ul>
</section>

<section id="data-platform-4" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>An exponential increase in operational data has made computers the only tools suitable for <em>decision-making performed by business users</em></p>
<ul>
<li>The massive use of techniques for analyzing enterprise data made information systems a key factor to achieve business goals</li>
</ul>
<p>The role of computer science in companies has radically changed since the early 70’s.</p>
<ul>
<li>ICT systems turned from simple tools to improve process efficiency…</li>
<li>… into key factors of company organizations capable of deeply impacting on the structure of business processes</li>
</ul>
</section>

<section id="problem-how-do-we-manage-data-heterogeneity" class="title-slide slide level1 center">
<h1>Problem: how do we manage <strong>data heterogeneity</strong>?</h1>

</section>

<section id="data-platform-5" class="title-slide slide level1 center">
<h1>Data platform</h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p><strong>Schemaless databases</strong></p>
<p>There is no predefined schema that the data must conform to before being added to the database. As a result, you don’t need to know the structure of your data, enabling you to store all your data more easily and quickly.</p>
</blockquote>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/24.svg"></p>
<figcaption>NoSQL</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="problem-how-do-we-transform-data-into-actionable-business-insights" class="title-slide slide level1 center">
<h1>Problem: how do we transform data into <strong>actionable business insights</strong>?</h1>

</section>

<section id="data-platform-6" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p><em>Big Data</em> must be transformed into <em>Small Data</em> so that it can be exploited for decision-making purposes</p>
<ul>
<li>Small data is data that is “small” enough for human comprehension.</li>
<li>It is data in a volume and format that makes it accessible, informative and actionable.</li>
</ul>

<img data-src="img/phdslides_72.jpg" class="r-stretch quarto-figure-center"><p class="caption">Big vs small data</p></section>

<section id="data-platform-7" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Scenario:</p>
<ul>
<li>Large company, with several branches</li>
<li>Managers wish to quantify and evaluate the contribution given from each branch to the global profit</li>
</ul>

<img data-src="img/pre-dwh.svg" class="r-stretch quarto-figure-center"><p class="caption">Typical scenario</p></section>

<section id="data-platform-8" class="title-slide slide level1 center">
<h1>Data platform</h1>

<img data-src="img/dwh.svg" class="r-stretch quarto-figure-center"><p class="caption">Data Warehouse</p></section>

<section id="data-platform-9" class="title-slide slide level1 center">
<h1>Data platform</h1>

<img data-src="img/slides26a.png" class="r-stretch quarto-figure-center"><p class="caption">Evolving generations of data platforms</p></section>

<section id="data-platform-10" class="title-slide slide level1 center">
<h1>Data platform</h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p><strong>Data Warehouse (DWH)</strong> <span class="citation" data-cites="golfarelli2009data">(<a href="#/references" role="doc-biblioref" onclick="">Golfarelli and Rizzi 2009</a>)</span></p>
<p>“A collection of data that supports decision-making processes. It provides the following features: subject-oriented, integrated and consistent, not volatile.”</p>
</blockquote>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/21.svg"></p>
<figcaption>DWH</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-platform-11" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>A DWH is a collection of data that supports decision-making processes. It provides the following features:</p>
<ul>
<li>It is <em>subject-oriented</em>;</li>
<li>It is <em>integrated and consistent</em>;</li>
<li>It shows its <em>evolution over time and it is not volatile</em></li>
</ul>
<p>The <strong>multidimensional model</strong> is the key for representing and querying information in a DW</p>
<ul>
<li>(Business) <em>Facts</em> of interest are represented in <em>(hyper) cubes</em> where:
<ul>
<li>Each cell stores <em>numerical measures</em> that quantify the fact from different points of view;</li>
<li>Each axis is a <em>dimension</em> for analyzing measure values;</li>
<li>Each <em>dimension can be the root of a hierarchy</em> of attributes used to aggregated measure values</li>
</ul></li>
</ul>
<p><strong>Online analytical processing (OLAP)</strong> to answer multi-dimensional analytical queries.</p>
<ul>
<li>Interactive sessions of analysis reading large amounts of data.</li>
</ul>
</section>

<section id="data-platform-12" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Querying the cube with OLAP operators: <em>roll up</em></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube.svg"></p>
<figcaption>Multidimensional cube</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube-rollup.svg"></p>
<figcaption>Roll up</figcaption>
</figure>
</div>
</div>
</div></div>
</section>

<section id="data-platform-13" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Querying the cube with OLAP operators: <em>drill down</em></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube-rollup.svg"></p>
<figcaption>Roll up</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube-drilldown.svg"></p>
<figcaption>Drill down</figcaption>
</figure>
</div>
</div>
</div></div>
</section>

<section id="data-platform-14" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>The <strong>Dimensional Fact Model</strong> <span class="citation" data-cites="DBLP:journals/ijcis/GolfarelliMR98">(<a href="#/references" role="doc-biblioref" onclick="">Golfarelli, Maio, and Rizzi 1998b</a>)</span> is a graphical conceptual model for DWH design, devised to:</p>
<ul>
<li>create an environment in which user queries may be formulated intuitively</li>
<li>make communication possible between designers and end users with the goal of formalizing requirement specifications</li>
<li>build a stable platform for logical design (independently of the target logical model)</li>
<li>provide clear and expressive design documentation</li>
</ul>
<div>

</div>

<img data-src="img/cube-dfm.svg" class="r-stretch quarto-figure-center"><p class="caption">DFM</p></section>

<section id="data-platform-15" class="title-slide slide level1 center">
<h1>Data platform</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube-dfm.svg"></p>
<figcaption>DFM</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/cube-dfm.png"></p>
<figcaption>Corresponding Entity-Relationsip representation <span class="citation" data-cites="DBLP:conf/hicss/GolfarelliMR98">(<a href="#/references" role="doc-biblioref" onclick="">Golfarelli, Maio, and Rizzi 1998a</a>)</span></figcaption>
</figure>
</div>
</div>
</div></div>
</section>

<section id="oltp-vs-olap" class="title-slide slide level1 center">
<h1>OLTP vs OLAP?</h1>

</section>

<section id="data-platform-oltp-vs-olap" class="title-slide slide level1 center">
<h1>Data platform: OLTP vs OLAP</h1>
<table class="caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Characteristic</th>
<th style="text-align: center;">OLTP</th>
<th style="text-align: center;">OLAP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Type of workload</td>
<td style="text-align: center;">Constant transactions (reads/writes)</td>
<td style="text-align: center;">Periodic large writes, interactive large reads</td>
</tr>
<tr class="even">
<td style="text-align: center;">Examples</td>
<td style="text-align: center;">Accounting database, online retail transactions</td>
<td style="text-align: center;">Reporting, decision support</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Type</td>
<td style="text-align: center;">Operational data</td>
<td style="text-align: center;">Business data</td>
</tr>
<tr class="even">
<td style="text-align: center;">Data retention</td>
<td style="text-align: center;">Short-term (2-6 months)</td>
<td style="text-align: center;">Long-term (2-5 years)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Storage</td>
<td style="text-align: center;">Gigabytes (GB)</td>
<td style="text-align: center;">Terabytes (TB) / Petabytes (PB)</td>
</tr>
<tr class="even">
<td style="text-align: center;">Users</td>
<td style="text-align: center;">Many</td>
<td style="text-align: center;">Few</td>
</tr>
</tbody>
</table>
</section>

<section id="data-platform-16" class="title-slide slide level1 center">
<h1>Data platform</h1>

<img data-src="img/slides26b.png" class="r-stretch quarto-figure-center"><p class="caption">Evolving generations of data platforms</p></section>

<section id="data-platform-17" class="title-slide slide level1 center">
<h1>Data platform</h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p><strong>Data lake</strong> <span class="citation" data-cites="couto2019mapping">(<a href="#/references" role="doc-biblioref" onclick="">Couto et al. 2019</a>)</span></p>
<p>“A DL is a <em>central repository</em> system for <em>storage, processing, and analysis of raw data</em>, in which the data is kept in its <em>original format and is processed to be queried only when needed</em>. It can <em>store a varied amount of formats</em> in big data ecosystems, from unstructured, semi-structured, to structured data sources.”</p>
</blockquote>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides9.jpg"></p>
<figcaption>Data lake</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-platform-18" class="title-slide slide level1 center">
<h1>Data platform</h1>

<img data-src="img/26.svg" class="r-stretch quarto-figure-center"><p class="caption">Data lake</p></section>

<section id="data-platform-19" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>The data lake started with the Apache Hadoop movement, using the Hadoop File System (HDFS) for cheap storage</p>
<ul>
<li><em>Schema-on-read</em> architecture</li>
<li>Agility of storing any data at low cost</li>
<li>Eludes the problems of quality and governance</li>
</ul>
<p>Downsides of data lakes</p>
<ul>
<li><em>Security</em>
<ul>
<li>All the data is stored and managed as files</li>
<li>No fine-grained access control on the contents of files, but only coarse-grained access governing who can access what files or directories</li>
</ul></li>
<li><em>Quality</em>
<ul>
<li>Hard to prevent data corruption and manage schema changes</li>
<li>Challenging to ensure atomic operations when writing a group of files</li>
<li>No roll-back mechanism</li>
</ul></li>
<li><em>Query performance</em>
<ul>
<li>Formats are not optimized for fast access</li>
</ul></li>
</ul>
<p>It is often said that the <em>lake</em> easily turns into a <em>swamp</em></p>
</section>

<section id="dwh-vs-data-lake" class="title-slide slide level1 center">
<h1>DWH vs Data Lake?</h1>

</section>

<section id="data-platform-dwh-vs-data-lake" class="title-slide slide level1 center">
<h1>Data platform: DWH vs Data Lake</h1>
<table class="caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Data warehouse</th>
<th style="text-align: center;">Data lake</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Data model</td>
<td style="text-align: center;">Relational</td>
<td style="text-align: center;">Non-relational and relational</td>
</tr>
<tr class="even">
<td style="text-align: center;">Schema</td>
<td style="text-align: center;">Designed prior to implementation <br>(<strong>schema-on-write</strong>)</td>
<td style="text-align: center;">Written at the time of analysis <br> (<strong>schema-on-read</strong>)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Price/performance</td>
<td style="text-align: center;">Faster queries, higher cost storage</td>
<td style="text-align: center;">Slower queries, lower-cost storage</td>
</tr>
<tr class="even">
<td style="text-align: center;">Data quality</td>
<td style="text-align: center;">Highly curated data, the central version of the truth</td>
<td style="text-align: center;">Any (raw) data</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Users</td>
<td style="text-align: center;">Business analysts</td>
<td style="text-align: center;">Data scientists, developers, and business analysts</td>
</tr>
<tr class="even">
<td style="text-align: center;">Analytics</td>
<td style="text-align: center;">Batch reporting, BI, and visualizations</td>
<td style="text-align: center;">Machine learning, predictive analytics, data discovery, and profiling.</td>
</tr>
</tbody>
</table>
</section>

<section id="data-platform-20" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>A two-tier data lake + DWH architecture is dominant in the industry</p>
<ul>
<li>HDFS replaced by cloud data lakes (e.g., S3, ADLS, GCS)</li>
<li>Data lake directly accessible to a wide range of analytics engines</li>
<li>A subset of data is “ETL-ed” to a DWH for important decision support and BI apps</li>
</ul>
<p>While the data lake and DWH architecture is ostensibly cheap, a two-tier architecture is highly complex for users</p>
<ul>
<li><em>Problems</em>?</li>
</ul>
</section>

<section id="data-platform-21" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>(Some) main problems:</p>
<ul>
<li>Data is first ELTed into lakes, and then again ETLed into DWHs
<ul>
<li><em>Reliability</em>. Keeping the data lake and DWH consistent is difficult and costly</li>
<li><em>Data staleness</em>. The data in the DWH is stale compared to that of the data lake, with new data frequently taking days to load</li>
</ul></li>
<li><em>Limited support for advanced analytics</em>.
<ul>
<li>Businesses want to ask predictive questions using their DWHs</li>
<li>Machine learning systems does not work well on (directly) top of DWHs</li>
</ul></li>
<li><em>Process large datasets using complex non-SQL code</em></li>
</ul>
</section>

<section id="data-platform-22" class="title-slide slide level1 center">
<h1>Data platform</h1>

<img data-src="img/slides26.png" class="r-stretch quarto-figure-center"><p class="caption">Evolving generations of data platforms</p></section>

<section id="data-lakehouse-armbrust2021lakehouse" class="title-slide slide level1 center">
<h1>Data lakehouse <span class="citation" data-cites="armbrust2021lakehouse">(<a href="#/references" role="doc-biblioref" onclick="">Armbrust et al. 2021</a>)</span></h1>
<div class="columns">
<div class="column" style="width:50%;">
<blockquote>
<p><strong>Data lakehouse</strong></p>
<p>Data management architecture that combines the flexibility, cost-efficiency, and scale of data lakes with the data management and ACID transactions of DWHs, enabling business intelligence (BI) and machine learning (ML) on all data</p>
</blockquote>
<p>Key technologies used to implement Data Lakehouses</p>
<ul>
<li>Databricks’ Delta Tables</li>
<li>Apache Hudi</li>
<li>Apache Iceberg</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides27.png"></p>
<figcaption>Data lakehouse</figcaption>
</figure>
</div>
</div></div>
<p><a href="https://databricks.com/blog/2021/05/19/evolution-to-the-data-lakehouse.html">https://databricks.com/blog/2021/05/19/evolution-to-the-data-lakehouse.html</a></p>
<p><a href="https://www.databricks.com/glossary/data-lakehouse">https://www.databricks.com/glossary/data-lakehouse</a></p>
</section>

<section id="data-lakehouse" class="title-slide slide level1 center">
<h1>Data lakehouse</h1>
<p>Main features:</p>
<ul>
<li>Store data in a low-cost object store using a standard file format such as Apache Parquet</li>
<li>Implement a transactional metadata layer on top of the object store that defines which objects are part of a table version</li>
<li>Implement management features within the metadata layer</li>
</ul>
<p>Challenges:</p>
<ul>
<li>The metadata layer is insufficient to achieve good SQL performance</li>
<li>DWHs use several techniques to get state-of-the-art performance
<ul>
<li>Storing hot data on fast devices such as SSDs, maintaining statistics, building efficient indexes, etc.</li>
</ul></li>
<li>In a Lakehouse it is not possible to change the format, but it is possible to implement other optimizations that leave the data files unchanged</li>
</ul>
</section>

<section id="data-lakehouse-1" class="title-slide slide level1 center">
<h1>Data lakehouse</h1>
<p><strong>Challenges:</strong></p>
<ul>
<li>Most data lakes (e.g., cloud object stores) are simple key-value stores without cross-key consistency.<br>
</li>
<li>Multi-object updates aren’t atomic, and there’s no isolation between queries.
<ul>
<li>Queries updating multiple objects can expose readers to partial updates as each object is written individually.<br>
</li>
</ul></li>
<li>For large tables with millions of objects, metadata operations are costly.
<ul>
<li>The latency of cloud object stores can make data-skipping checks slower than the query itself.</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Delta Lake</strong> uses a transaction log compacted into Apache Parquet for much faster metadata operations on large tabular datasets.</p>
<ul>
<li>The log resides in the <code>_delta_log</code> subdirectory.<br>
</li>
<li>It contains:
<ul>
<li>JSON objects with sequential IDs for log records (i.e., commits)</li>
<li>Periodic checkpoints summarizing the log up to that point</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/deltalake.png"></p>
<figcaption>Delta lake</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-lakehouse-2" class="title-slide slide level1 center">
<h1>Data lakehouse</h1>
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Data Warehouse</th>
<th style="text-align: center;">Data Lake</th>
<th style="text-align: center;">Data Lakehouse</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Data format</td>
<td style="text-align: center;">Proprietary format</td>
<td style="text-align: center;">Open format</td>
<td style="text-align: center;">Open format</td>
</tr>
<tr class="even">
<td style="text-align: center;">Types of data</td>
<td style="text-align: center;">Structured, limited semi-structured</td>
<td style="text-align: center;">*</td>
<td style="text-align: center;">*</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Data access</td>
<td style="text-align: center;">SQL-only, no file access</td>
<td style="text-align: center;">File access</td>
<td style="text-align: center;">APIs for SQL, R, Python, etc.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Reliability</td>
<td style="text-align: center;">High quality, ACID transactions</td>
<td style="text-align: center;">Low quality, “data swamp”</td>
<td style="text-align: center;">High quality, ACID transactions</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Governance &amp; security</td>
<td style="text-align: center;">Fine-grained (row/column-level)</td>
<td style="text-align: center;">Weak governance; file-level security</td>
<td style="text-align: center;">Fine-grained (row/column-level)</td>
</tr>
<tr class="even">
<td style="text-align: center;">Performance</td>
<td style="text-align: center;">High</td>
<td style="text-align: center;">Low</td>
<td style="text-align: center;">High</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Scalability</td>
<td style="text-align: center;">Expensive at scale</td>
<td style="text-align: center;">Scales cheaply for any data type</td>
<td style="text-align: center;">Scales cheaply for any data type</td>
</tr>
<tr class="even">
<td style="text-align: center;">Use case</td>
<td style="text-align: center;">BI</td>
<td style="text-align: center;">Machine learning</td>
<td style="text-align: center;">Unified for BI and ML</td>
</tr>
</tbody>
</table>
</section>

<section id="data-platform-23" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p><em>Data lakes (or lakehouses)</em> have increasingly taken the role of <em>data hubs</em></p>
<ul>
<li>Eliminate up-front costs of ingestion and ETL since data are stored in the original format</li>
<li>Once in DL, data are available for analysis by everyone in the organization</li>
</ul>
<p><em>Drawing a sharp line between storage/computation/analysis is hard</em></p>
<ul>
<li>Is a database just storage?</li>
<li>What about SQL/OLAP?</li>
</ul>
<p><em>Blurring</em> of the <em>architectural borderlines</em></p>
<ul>
<li>DL is often replaced by “data platform” or “data ecosystem”</li>
<li>Encompass systems supporting data-intensive storage, computation, analysis</li>
</ul>
</section>

<section id="data-platform-24" class="title-slide slide level1 center">
<h1>Data platform</h1>
<blockquote>
<p><strong>Data platform</strong></p>
<p>A <em>unified</em> infrastructure that facilitates the ingestion, storage, management, and exploitation of large volumes of heterogeneous data. It provides a collection of <em>independent</em> and <em>well-integrated</em> services meeting <em>end-to-end</em> data needs.</p>
<ul>
<li><em>Unified</em>: is conceptually a data backbone</li>
<li><em>Independent</em>: a service is not coupled with any other</li>
<li><em>Well-integrated</em>: services have interfaces that enable easy and frictionless composition</li>
<li><em>End-to-end</em>: services cover the entire data life cycle</li>
</ul>
</blockquote>
<p>Rationale: relieve users from the complexity of administration and provision</p>
<ul>
<li>Not only technological skills, but also privacy, access control, etc.</li>
<li>Users should only focus on functional aspects</li>
</ul>
</section>

<section id="data-platform-25" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Are we done? No!</p>
<ul>
<li>Lacking smart support to govern the complexity of data and transformations</li>
<li>Data transformations must be governed to prevent DP from turning into a swamp
<ul>
<li>Amplified in data science, with data scientists prevailing over data architects</li>
<li>Leverage descriptive metadata and maintenance to keep control over data</li>
</ul></li>
</ul>
</section>

<section id="which-functionalities-for-automated-data-management-can-you-think-about" class="title-slide slide level1 center">
<h1>Which functionalities for (automated) data management can you think about?</h1>

<img data-src="img/data-gov/dgvsds.jpg" class="r-stretch quarto-figure-center"><p class="caption">Data governance</p></section>

<section id="managing-data-platforms" class="title-slide slide level1 center">
<h1>Managing data platforms</h1>
<ul>
<li><em>Tracking data pipelines</em>: Data provenance</li>
<li><em>Tracking changes</em>: Data versioning</li>
<li><em>Saving storage</em>: Compression</li>
<li><em>Understanding the data</em>: Data profiling</li>
<li><em>Integrating data sources</em>: Entity resolution</li>
<li>…</li>
</ul>
</section>

<section id="data-governance" class="title-slide slide level1 center">
<h1>Data governance</h1>
<div class="columns">
<div class="column" style="width:60%;">
<blockquote>
<p><strong>Data governance</strong></p>
<p>Techniques to ensure that data is secure, private, accurate, available, and usable</p>
</blockquote>
<ul>
<li>It includes the actions people must take, the processes they must follow, and the technology that supports them throughout the data life cycle</li>
<li>Every organization needs data governance since industries proceed on their digital-transformation journeys</li>
</ul>
<p>A <em>data steward</em> is a role that ensures that data governance processes are followed and that guidelines are enforced, and recommends improvements to data governance processes.</p>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/datagovernance.png"></p>
<figcaption>Data governance</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="case-study-data-governance" class="title-slide slide level1 center" data-background-color="#121011">
<h1><img src="./img/cs.svg" class="title-icon"> Case study: data governance</h1>

</section>

<section id="problem-how-can-we-manage-a-datalake" class="title-slide slide level1 center">
<h1><img src="./img/cs.svg" class="title-icon"> <strong>Problem</strong>: how can we manage a datalake?</h1>
<p><strong>Context</strong>:</p>
<ul>
<li>You are working for a consultancy company specialized in data engineering.
<ul>
<li>This is a typical use cases of internships or thesis projects in DTM or ISI.</li>
</ul></li>
<li>Your client is a large enterprise that has accumulated massive amounts of heterogeneous data across departments.</li>
</ul>
<pre><code>            ┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
            │                                                DATA LAKE                                                        │
            └─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
            ┌──────────────────────────┐    ┌────────────────────────────┐    ┌───────────────────────────┐   ┌───────────────┐
            │  bucket: dept-a          │    │  bucket: dept-b            │    │  bucket: shared           │   │  bucket: ...  │
            │  (sales)                 │    │  (support)                 │    │  (reference)              │   │               │
            │                          │    │                            │    │                           │   │               │
            │  /customers/             │    │  /customers/               │    │  /geo/                    │   │               │
            │   ├─ customers_part1.csv |    │   ├─ customers_v2.json     │    │   ├─ countries.xlsx       │   │               │
            │   ├─ customers_part2.csv |    │   └─ preferences.csv       │    │   └─ continents.parquet   │   │               │
            │   └─ README.md           │    │                            │    │                           │   │               │
            │                          │    │  /tickets/                 │    │  /products/               │   │               │
            │  /sales/                 │    │   ├─ tickets_2023.csv      │    │   ├─ products_v1.json     │   │               │
            │   ├─ sales_part1.csv     │    │   └─ tickets_2024.csv      │    │   └─ products_v2.json     │   │               │
            │   ├─ sales_part2.csv     │    │                            │    │                           │   │               │
            │   ├─ sales_part3.csv     │    │  /exports/                 │    │  /dictionaries/           │   │               │
            │   └─ sales_part4.csv     │    │   └─ customer_dump.parquet |    |   └─ country_codes.csv    │   |               │
            │                          │    │                            │    │                           │   │               │
            │  /.../                   │    │  /.../                     │    │  /.../                    │   │               │
            │   └─ ...                 │    │   └─ ...                   │    |    └─ ...                 |   |               |  
            │                          │    │                            │    │                           │   │               │
            │  /logs/                  │    │  /logs/                    │    │  /schemas/                │   │               │
            │   └─ ingestion.log       │    │   └─ api_events.log        │    │   └─ inferred_schema.yaml |   │               |
            └──────────────────────────┘    └────────────────────────────┘    └───────────────────────────┘   └───────────────┘</code></pre>
<p><strong>Objectives</strong>: assess and organize the data lake to produce unified data assets ready for downstream analytics.</p>
</section>

<section id="brainstorming-which-problems-do-you-see" class="title-slide slide level1 center">
<h1>Brainstorming: which <strong>problems</strong> do you see?</h1>

</section>

<section id="brainstorming-problems" class="title-slide slide level1 center">
<h1>Brainstorming: problems</h1>
<p>Data lakes collect data from <strong>different sources</strong> (e.g., departments)</p>
<p>Files may have:</p>
<ul>
<li>Different <strong>formats</strong> (CSV, Excel, JSON)</li>
<li>Different <strong>schemas</strong> (column names vary)</li>
<li>Duplicated or overlapping concepts</li>
</ul>
<blockquote>
<p>A (table) <strong>schema</strong> is the blueprint or structure that defines how data is organized (within a table), specifying the names, data types, and constraints (for each column).</p>
</blockquote>
<p>Users need to <strong>find and integrate</strong> relevant data but they don’t know:</p>
<ul>
<li>What is inside each file</li>
<li>Which files describe the <strong>same entities</strong></li>
</ul>
<p>… and more</p>
</section>

<section id="brainstorming-where-do-we-start" class="title-slide slide level1 center">
<h1>Brainstorming: where do we start?</h1>

</section>

<section id="step-0-what-do-we-have-in-the-data-lake" class="title-slide slide level1 center">
<h1>Step 0: What do we have in the data lake?</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines"><code class="sourceCode bash"><span id="cb5-1"><a href=""></a><span class="fu">ls</span> <span class="at">-R</span> /home/datalake/data/bronze/</span></code></pre></div>
<pre><code>/home/datalake/data/bronze/:
department_a  department_b

/home/datalake/data/bronze/department_a:
countries.xlsx  customers  products  sales

/home/datalake/data/bronze/department_a/customers:
customers_part1.csv  customers_part2.csv

/home/datalake/data/bronze/department_a/products:
products_a.json  products_b.json

/home/datalake/data/bronze/department_a/sales:
sales_part1.csv  sales_part2.csv  sales_part3.csv  sales_part4.csv  sales_part5.csv

/home/datalake/data/bronze/department_b:
customers  products  reviews

/home/datalake/data/bronze/department_b/customers:
customers_v2.csv

/home/datalake/data/bronze/department_b/products:
products_c.json

/home/datalake/data/bronze/department_b/reviews:
product_reviews.csv</code></pre>
</section>

<section id="step-0-what-do-we-have-in-the-data-lake-1" class="title-slide slide level1 center">
<h1>Step 0: What do we have in the data lake?</h1>
<p>Let’s keep to simple, and focus only csv, Excel, and JSON files</p>
</section>

<section id="step-1-schema-extraction" class="title-slide slide level1 center">
<h1>Step 1: Schema Extraction</h1>
<p>In CSV files, the schema is in the header (first row)</p>
<ul>
<li>For each file, read the first rows to collect column names</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines"><code class="sourceCode bash"><span id="cb7-1"><a href=""></a><span class="fu">head</span> <span class="at">-n1</span> /home/datalake/data/bronze/department_a/customers/customers_part1.csv</span></code></pre></div>
<pre><code>customer_id,first_name,email,country,telephone</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines"><code class="sourceCode bash"><span id="cb9-1"><a href=""></a><span class="fu">head</span> <span class="at">-n1</span> /home/datalake/data/bronze/department_a/sales/sales_part1.csv</span></code></pre></div>
<pre><code>order_key,cust_id,product_id,quantity,date,amount_usd</code></pre>
<p>What about <code>.json</code> and <code>.xlsx</code> files?</p>
</section>

<section id="step-1-schema-extraction-1" class="title-slide slide level1 center">
<h1>Step 1: Schema Extraction</h1>
<p>For each file, read the first rows to collect column names</p>
<p>Examples:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource bash number-lines"><code class="sourceCode bash"><span id="cb11-1"><a href=""></a><span class="fu">head</span> <span class="at">-n1</span> /home/datalake/data/bronze/department_a/customers/customers_part1.csv</span></code></pre></div>
<pre><code>customer_id,first_name,email,country,telephone</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource bash number-lines"><code class="sourceCode bash"><span id="cb13-1"><a href=""></a><span class="fu">head</span> <span class="at">-n1</span> /home/datalake/data/bronze/department_a/sales/sales_part1.csv </span></code></pre></div>
<pre><code>order_key,cust_id,product_id,quantity,date,amount_usd</code></pre>
<div class="fragment">
<p>Problems:</p>
<ul>
<li>What about <code>.json</code> and <code>.xlsx</code> files?</li>
<li>Manual integration is:
<ul>
<li>Time-consuming</li>
<li>Error-prone</li>
<li>Not scalable</li>
</ul></li>
<li>Even if we build a Python program (e.g., with Pandas), we have many files to manually analyze</li>
</ul>
</div>
</section>

<section id="step-2-clustering-by-schema-similarity" class="title-slide slide level1 center">
<h1>Step 2: Clustering by Schema Similarity</h1>
<p>We can use <strong>clustering</strong> to group files with <em>similar schemas</em></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/data-gov/cluster_plot.svg"></p>
<figcaption>Example of clustering</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>How do we define the <em>schema similarity</em> (or distance)?</p>
<blockquote>
<p>Example:</p>
<ul>
<li><span class="math inline">\(Schema_A = \{`id', `name', `email'\}\)</span></li>
<li><span class="math inline">\(Schema_B = \{`id', `fullname', `mail'\}\)</span></li>
</ul>
</blockquote>
</div></div>
</section>

<section id="step-2.a-jaccard-index-similarity-measures" class="title-slide slide level1 center">
<h1>Step 2.a: Jaccard Index (Similarity Measures)</h1>
<p>Measures <strong>overlap of sets</strong>: <span class="math inline">\(J(Schema_A, Schema_B) = \frac{|Schema_A \cap Schema_B|}{|Schema_A \cup Schema_B|}\)</span></p>
<blockquote>
<p>Example:</p>
<ul>
<li><span class="math inline">\(Schema_A = \{`id', `name', `email'\}\)</span></li>
<li><span class="math inline">\(Schema_B = \{`id', `fullname', `mail'\}\)</span></li>
<li><span class="math inline">\(|Schema_A \cap Schema_B| = |\{`id'\}| = 1\)</span></li>
<li><span class="math inline">\(|Schema_A \cup Schema_B| = |\{`id', `name', `email', `fullname', `mail'\}| = 5\)</span></li>
<li><span class="math inline">\(J(Schema_A, Schema_B) = \frac{1}{5} = 0.2\)</span></li>
</ul>
</blockquote>
<p>What do you think about this solution?</p>
</section>

<section id="step-2.a-jaccard-index-similarity-measures-1" class="title-slide slide level1 center">
<h1>Step 2.a: Jaccard Index (Similarity Measures)</h1>
<table class="caption-top">
<colgroup>
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">countries.xlsx</th>
<th style="text-align: right;">customers_part1.csv</th>
<th style="text-align: right;">customers_part2.csv</th>
<th style="text-align: right;">products_a.json</th>
<th style="text-align: right;">products_b.json</th>
<th style="text-align: right;">sales_part1.csv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">countries.xlsx</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">customers_part1.csv</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">customers_part2.csv</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">products_a.json</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.625</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">products_b.json</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.625</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.0769231</td>
</tr>
</tbody>
</table>

<img data-src="./img/data-gov/cluster_dendrogram.svg" class="r-stretch quarto-figure-center"><p class="caption">Agglomerative Clustering</p></section>

<section id="step-2.b-fuzzy-matching-similarity-measures" class="title-slide slide level1 center">
<h1>Step 2.b: Fuzzy Matching (Similarity Measures)</h1>
<p>Capture <strong>spelling variations</strong> in column names</p>
<ul>
<li>String similarity based on <strong>edit distance</strong></li>
<li>Two attributes are match if they differ by a few characters (i.e., if their similarity is above a threshold <span class="math inline">\(\alpha\)</span>)
<ul>
<li>Example metric: <strong>Levenshtein distance</strong></li>
</ul></li>
</ul>
<blockquote>
<p>Example:</p>
<ul>
<li><span class="math inline">\(Schema_A = \{`id', `name', `email'\}\)</span></li>
<li><span class="math inline">\(Schema_B = \{`id', `fullname', `mail'\}\)</span></li>
<li><span class="math inline">\(|Schema_A \cap Schema_B| = |\{`id', `email'\}| = 2\)</span></li>
<li><span class="math inline">\(|Schema_A \cup Schema_B| = |\{`id', `name', `email', `fullname'\}| = 4\)</span></li>
<li><span class="math inline">\(J_{fuz}(Schema_A, Schema_B) = \frac{2}{4} = 0.5\)</span></li>
</ul>
</blockquote>
</section>

<section id="step-2.b-clustering-by-schema-similarity" class="title-slide slide level1 center">
<h1>Step 2.b: Clustering by Schema Similarity</h1>
<p>Compute the <strong>Fuzzy Matching similarity</strong> between files</p>
<ul>
<li>What about the computational cost/complexity?</li>
</ul>
<p>Cluster files using <strong>Agglomerative Clustering</strong></p>
<pre><code>Cluster 1:
  Intersection schema: {'currency', 'price', 'product_id', 'name', 'type'}
  Average Jaccard similarity: 0.75
    File: /home/datalake/data/bronze/department_a/products/products_a.json  Schema: ['currency', 'price', 'product_id', 'name', 'type']
    File: /home/datalake/data/bronze/department_a/products/products_b.json  Schema: ['currency', 'material', 'price', 'product_id', 'name', 'color', 'type', 'stock']
    File: /home/datalake/data/bronze/department_b/products/products_c.json  Schema: ['currency', 'price', 'product_id', 'name', 'type']

...

Cluster 3:
  Intersection schema: {'telephone', 'first_name', 'customer_id', 'country', 'email'}
  Average Jaccard similarity: 1.00
    File: /home/datalake/data/bronze/department_a/customers/customers_part1.csv  Schema: ['telephone', 'first_name', 'customer_id', 'country', 'email']
    File: /home/datalake/data/bronze/department_a/customers/customers_part2.csv  Schema: ['telephone', 'first_name', 'customer_id', 'country', 'email']

...</code></pre>
</section>

<section id="step-2.c-embeddings-similarity-measures" class="title-slide slide level1 center">
<h1>Step 2.c: Embeddings (Similarity Measures)</h1>
<p>Fuzzy Matching does not capture <strong>semantic similarity</strong> between column names</p>
<ul>
<li>We can use <em>transformers</em> to represent words as vectors<br>
</li>
<li>Capturing <em>semantic meaning</em>, not just spelling</li>
</ul>
<p>See the <a href="https://www.cs.cmu.edu/~dst/WordEmbeddingDemo/">demo</a></p>
</section>

<section id="step-2.c-embeddings-similarity-measures-1" class="title-slide slide level1 center">
<h1>Step 2.c: Embeddings (Similarity Measures)</h1>
<blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./img/data-gov/embeddings_2d.svg"></p>
<figcaption>Example of word embeddings</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>Computing the embeddings:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb16-1"><a href=""></a>{</span>
<span id="cb16-2"><a href=""></a>  <span class="st">'telephone'</span>: [<span class="op">-</span><span class="fl">0.11484879</span>  <span class="fl">0.06089507</span>  <span class="fl">0.01468573</span> ... ],</span>
<span id="cb16-3"><a href=""></a>  <span class="st">'first_name'</span>: [<span class="op">-</span><span class="fl">0.11216891</span>  <span class="fl">0.04061386</span> <span class="op">-</span><span class="fl">0.01322238</span> ... ],</span>
<span id="cb16-4"><a href=""></a>  <span class="st">'customer_id'</span>: [<span class="op">-</span><span class="fl">0.06831077</span>  <span class="fl">0.03470041</span> <span class="op">-</span><span class="fl">0.02761879</span> ... ],</span>
<span id="cb16-5"><a href=""></a>... }</span></code></pre></div>
<p>Computing the similarity between embeddings:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb17-1"><a href=""></a>sim_cos(<span class="st">'country'</span>, <span class="st">'location'</span>): <span class="fl">0.63932264</span>,</span>
<span id="cb17-2"><a href=""></a>sim_cos(<span class="st">'location'</span>, <span class="st">'name'</span>): <span class="fl">0.39198124</span>,</span>
<span id="cb17-3"><a href=""></a>sim_cos(<span class="st">'name'</span>, <span class="st">'first_name'</span>): <span class="fl">0.6186802</span></span></code></pre></div>
<p>Example:</p>
<ul>
<li><span class="math inline">\(Schema_A = \{`id', `name', `email', `country'\}\)</span></li>
<li><span class="math inline">\(Schema_B = \{`id', `first\_name', `mail', `location'\}\)</span></li>
<li><span class="math inline">\(|Schema_A \cap Schema_B| = |\{`id', `email', `name', `country'\}| = 4\)</span></li>
<li><span class="math inline">\(|Schema_A \cup Schema_B| = |\{`id', `email', `name', `country'\}| = 4\)</span></li>
<li><span class="math inline">\(J_{emb}(Schema_A, Schema_B) = \frac{4}{4} = 1.0\)</span></li>
</ul>
</div></div>
</blockquote>
</section>

<section id="step-2.c-embeddings-similarity-measures-2" class="title-slide slide level1 center">
<h1>Step 2.c: Embeddings (Similarity Measures)</h1>
<table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">countries.xlsx</th>
<th style="text-align: center;">customers_part1.csv</th>
<th style="text-align: center;">customers_part2.csv</th>
<th style="text-align: center;">products_a.json</th>
<th style="text-align: center;">products_b.json</th>
<th style="text-align: center;">sales_part1.csv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><b>countries.xlsx</b></td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0.4</td>
<td style="text-align: center;">0.4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><b>customers_part1.csv</b></td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">0.153846</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><b>customers_part2.csv</b></td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">0.153846</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><b>products_a.json</b></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">0.2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0.625</td>
<td style="text-align: center;">0.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><b>products_b.json</b></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0.153846</td>
<td style="text-align: center;">0.153846</td>
<td style="text-align: center;">0.625</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0.230769</td>
</tr>
</tbody>
</table>

<img data-src="./img/data-gov/cluster_dendrogram-semantic.svg" class="r-stretch quarto-figure-center"><p class="caption">Agglomerative Clustering</p></section>

<section id="step-3-merging" class="title-slide slide level1 center">
<h1>Step 3: Merging</h1>
<p>Apply unified schema to all files in a cluster</p>
<p>Concatenate into a <strong>single governed dataset</strong></p>
</section>

<section id="problems" class="title-slide slide level1 center">
<h1><img src="./img/cs.svg" class="title-icon"> <strong>Problems</strong>?</h1>

</section>

<section id="step-3-merging-1" class="title-slide slide level1 center">
<h1>Step 3: Merging</h1>
<p>Within each cluster:</p>
<ul>
<li>Detect overlapping columns via hybrid similarity</li>
<li>Map to <strong>canonical names</strong></li>
<li>Collapse multiple variants into a single column</li>
</ul>
<blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<p>Table 1:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>customer_id</th>
<th>first_name</th>
<th>email</th>
<th>country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Alice</td>
<td><a href="mailto:a@ex.com">a@ex.com</a></td>
<td>US</td>
</tr>
<tr class="even">
<td>2</td>
<td>Bob</td>
<td><a href="mailto:b@ex.com">b@ex.com</a></td>
<td>UK</td>
</tr>
</tbody>
</table>
<p>Table 2:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>customer_id</th>
<th>name</th>
<th>mail</th>
<th>location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Chuck</td>
<td><a href="mailto:a@mail.com">c@mail.com</a></td>
<td>United States</td>
</tr>
<tr class="even">
<td>2</td>
<td>Dan</td>
<td><a href="mailto:b@mail.com">d@mail.com</a></td>
<td>United Kingdom</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>Unified table:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>customer_id</th>
<th>first_name</th>
<th>email</th>
<th>country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Alice</td>
<td><a href="mailto:a@ex.com">a@ex.com</a></td>
<td>US</td>
</tr>
<tr class="even">
<td>2</td>
<td>Bob</td>
<td><a href="mailto:b@ex.com">b@ex.com</a></td>
<td>UK</td>
</tr>
<tr class="odd">
<td>1</td>
<td>Chuck</td>
<td><a href="mailto:c@mail.com">c@mail.com</a></td>
<td>United States</td>
</tr>
<tr class="even">
<td>2</td>
<td>Dan</td>
<td><a href="mailto:d@mail.com">d@mail.com</a></td>
<td>United Kingdom</td>
</tr>
</tbody>
</table>
</div></div>
</blockquote>
<p>Are we done?</p>
</section>

<section id="conclusion" class="title-slide slide level1 center">
<h1>Conclusion</h1>
<ul>
<li>Automated <strong>semantic clustering and schema unification</strong></li>
<li>Provides <strong>governed integration</strong> in data lakes</li>
<li>Enables reliable, auditable, and transparent data pipelines</li>
</ul>
</section>

<section id="end-of-the-case-study-1" class="title-slide slide level1 center" data-background-color="#121011">
<h1>End of the case study</h1>

</section>

<section id="data-governance-data-profiling" class="title-slide slide level1 center">
<h1>Data governance: data profiling</h1>

</section>

<section id="data-profiling" class="title-slide slide level1 center">
<h1>Data profiling</h1>

<img data-src="https://dataedo-website.s3.amazonaws.com/cartoon/data_analysis_vs_profiling.png?1680006037" class="r-stretch quarto-figure-center"><p class="caption">Data profiling</p></section>

<section id="data-profiling-1" class="title-slide slide level1 center">
<h1>Data profiling</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>Data profiling <span class="citation" data-cites="naumann2014data">(<a href="#/references" role="doc-biblioref" onclick="">Naumann 2014</a>)</span></p>
<ul>
<li>A broad range of methods to efficiently analyze a given data set</li>
<li>E.g., in a <em>relational</em> scenario, <em>tables</em> of a relational database are <em>scanned</em> to derive <em>metadata</em>, such as <em>data types</em>, <em>completeness</em> and <em>uniqueness</em> of columns, <em>keys</em> and <em>foreign keys</em>, and occasionally <em>functional dependencies</em> and <em>association rules</em></li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides19.png"></p>
<figcaption>Characteristics of data profiling</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-profiling-single-column-iris-dataset" class="title-slide slide level1 center">
<h1>Data profiling: single column (Iris dataset)</h1>
<p>Schema and statistics</p>
<pre><code>df.info()</code></pre>
<blockquote>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 150 entries, 0 to 149
Data columns (total 5 columns):
#   Column             Non-Null Count  Dtype  
---  ------             --------------  -----  
0   sepal length (cm)  150 non-null    float64
1   sepal width (cm)   150 non-null    float64
2   petal length (cm)  150 non-null    float64
3   petal width (cm)   150 non-null    float64
4   species            150 non-null    int64  
dtypes: float64(4), int64(1)
memory usage: 6.0 KB</code></pre>
</blockquote>
</section>

<section id="data-profiling-single-columns-iris-dataset" class="title-slide slide level1 center">
<h1>Data profiling: single columns (Iris dataset)</h1>
<p>Statistics</p>
<pre><code>df.describe()</code></pre>
<blockquote>
<table class="caption-top">
<colgroup>
<col style="width: 7%">
<col style="width: 23%">
<col style="width: 22%">
<col style="width: 23%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">sepal length (cm)</th>
<th style="text-align: right;">sepal width (cm)</th>
<th style="text-align: right;">petal length (cm)</th>
<th style="text-align: right;">petal width (cm)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">count</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">150</td>
</tr>
<tr class="even">
<td style="text-align: left;">mean</td>
<td style="text-align: right;">5.80917</td>
<td style="text-align: right;">3.06167</td>
<td style="text-align: right;">3.72667</td>
<td style="text-align: right;">1.18333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">std</td>
<td style="text-align: right;">0.823805</td>
<td style="text-align: right;">0.449123</td>
<td style="text-align: right;">1.75234</td>
<td style="text-align: right;">0.752289</td>
</tr>
<tr class="even">
<td style="text-align: left;">min</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25%</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">50%</td>
<td style="text-align: right;">5.75</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4.25</td>
<td style="text-align: right;">1.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">75%</td>
<td style="text-align: right;">6.4</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">1.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">max</td>
<td style="text-align: right;">7.7</td>
<td style="text-align: right;">4.4</td>
<td style="text-align: right;">6.7</td>
<td style="text-align: right;">2.5</td>
</tr>
</tbody>
</table>
</blockquote>
<p>How much metadata are we producing?</p>
<div class="fragment">
<ul>
<li>8 statistics × 4 columns = 32 metadata values</li>
<li>The dataset contains 150 rows</li>
<li>Metadata-to-data ratio: <span class="math inline">\(\frac{32}{150} ≈ 21.3\%\)</span></li>
</ul>
</div>
</section>

<section id="data-profiling-multiple-columns-iris-dataset" class="title-slide slide level1 center">
<h1>Data profiling: multiple columns (Iris dataset)</h1>
<pre><code>df.corr(method='pearson', numeric_only=True)</code></pre>
<blockquote>
<table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 20%">
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">sepal length (cm)</th>
<th style="text-align: right;">sepal width (cm)</th>
<th style="text-align: right;">petal length (cm)</th>
<th style="text-align: right;">petal width (cm)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sepal length (cm)</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-0.106926</td>
<td style="text-align: right;">0.862175</td>
<td style="text-align: right;">0.80148</td>
</tr>
<tr class="even">
<td style="text-align: left;">sepal width (cm)</td>
<td style="text-align: right;">-0.106926</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-0.432089</td>
<td style="text-align: right;">-0.369509</td>
</tr>
<tr class="odd">
<td style="text-align: left;">petal length (cm)</td>
<td style="text-align: right;">0.862175</td>
<td style="text-align: right;">-0.432089</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.962577</td>
</tr>
<tr class="even">
<td style="text-align: left;">petal width (cm)</td>
<td style="text-align: right;">0.80148</td>
<td style="text-align: right;">-0.369509</td>
<td style="text-align: right;">0.962577</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</blockquote>
</section>

<section id="data-profiling-2" class="title-slide slide level1 center">
<h1>Data profiling</h1>
<p>The results of data profiling are <em>computationally heavy</em> to discover</p>
<ul>
<li>E.g., discovering keys/dependencies usually involves some sorting step for each considered column</li>
</ul>
<p>… and we need to verify them <em>for groups of columns</em> in a database</p>
<p><strong>Complexity</strong>: given a table with four columns <span class="math inline">\(\{w, x, y, z\}\)</span>, how many groups of columns?</p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: center;">w</th>
<th style="text-align: center;">x</th>
<th style="text-align: center;">y</th>
<th style="text-align: center;">z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
</section>

<section id="data-profiling-3" class="title-slide slide level1 center">
<h1>Data profiling</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p>Given a table with four columns <span class="math inline">\(\{w, x, y, z\}\)</span></p>
<div style="display: flex; justify-content: center; align-items: center; height: 100%;">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: center;">w</th>
<th style="text-align: center;">x</th>
<th style="text-align: center;">y</th>
<th style="text-align: center;">z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/lattice.svg"></p>
<figcaption>Powerset of four columns</figcaption>
</figure>
</div>
</div></div>
<ul>
<li>To extract the (distinct) cardinality of each column, I will consider <span class="math inline">\(\binom{|C|}{1}=|C|\)</span> columns <span class="math inline">\(\{(w), (x), (y), (z)\}\)</span></li>
<li>To extract the correlations between pairs of columns, I will consider <span class="math inline">\(\binom{|C|}{2}\)</span> groups <span class="math inline">\(\{(w, x), (w, y), (w, z), (x, y), ...\}\)</span></li>
<li>Extracting the relationships among all possible groups of columns generalizes to <span class="math inline">\(\sum_{n=1}^{|C|}\binom{|C|}{n}=2^{|C|}−1\)</span> groups
<ul>
<li>3 columns → 7 groups, 4 columns → 15 groups, 5 columns → 31 groups, 10 columns → 1023 groups, …</li>
</ul></li>
</ul>
</section>

<section id="data-profiling-4" class="title-slide slide level1 center">
<h1>Data profiling</h1>
<p>Use cases</p>
<ul>
<li><em>Query optimization</em>
<ul>
<li>Performed by DBMS to support query optimization with statistics about tables and columns</li>
<li>Profiling results can be used to estimate the selectivity of operators and the cost of a query plan</li>
</ul></li>
<li><em>Data cleansing</em> (typical use case is profiling data)
<ul>
<li>Prepare a cleansing process by revealing errors (e.g., in formatting), missing values, or outliers</li>
</ul></li>
<li><em>Data integration and analytics</em></li>
</ul>
</section>

<section id="data-profiling-statistic-query-optimization" class="title-slide slide level1 center">
<h1>Data profiling: statistic query optimization</h1>
<div class="columns">
<div class="column" style="width:30%;">
<blockquote>
<p>Table <code>R</code></p>
<table class="caption-top">
<thead>
<tr class="header">
<th><code>a</code></th>
<th><code>b</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10</td>
<td>20</td>
</tr>
<tr class="even">
<td>20</td>
<td>30</td>
</tr>
<tr class="odd">
<td>30</td>
<td>40</td>
</tr>
</tbody>
</table>
<p><code>min(R.a) = 10</code></p>
<p><code>max(R.a) = 30</code></p>
</blockquote>
<p>No need to access <code>R.a</code>, <code>min(R.a) &gt;= 10</code></p>
</div><div class="column" style="width:70%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/executionplan.png"></p>
<figcaption><span class="citation" data-cites="bruno2002exploiting">(<a href="#/references" role="doc-biblioref" onclick="">Bruno and Chaudhuri 2002</a>)</span></figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-governance-data-provenance" class="title-slide slide level1 center">
<h1>Data governance: data provenance</h1>

</section>

<section id="data-provenance-herschel2017survey" class="title-slide slide level1 center">
<h1>Data provenance <span class="citation" data-cites="herschel2017survey">(<a href="#/references" role="doc-biblioref" onclick="">Herschel, Diestelkämper, and Ben Lahmar 2017</a>)</span></h1>
<blockquote>
<p><strong>Provenance</strong> (also referred to as lineage, pedigree, parentage, genealogy)</p>
<ul>
<li>The description of the origins of data and the process by which it arrived at the database</li>
<li>Not only data products (e.g., tables, files), but also the processes that created them</li>
</ul>
</blockquote>
<div class="fragment">
<p>Examples of use cases <span class="citation" data-cites="simmhan2005survey">(<a href="#/references" role="doc-biblioref" onclick="">Simmhan et al. 2005</a>)</span></p>
<ul>
<li>Business domain.
<ul>
<li>Users traditionally work with an <em>organized data schema</em>, where the structure and <em>semantics of the data in use are shared</em> across the corporation or even B2B. Yet, a large proportion of businesses deal with <em>bad-quality data</em>. <em>Sources</em> of bad data <em>need to be identified</em> and corrected to avoid costly errors in business forecasting.</li>
</ul></li>
<li>Scientific/research domain.
<ul>
<li><em>Data</em> used in the scientific field can be <em>ad hoc</em> and driven by <em>individual researchers</em> or small communities. The scientific field is moving <em>towards more collaborative research</em> and organizational boundaries are disappearing. <em>Sharing data and metadata across organizations is essential</em>, leading to convergence on common schemes to ensure compatibility. Issues of <em>trust</em>, <em>quality</em>, and <em>copyright</em> of data are significant when using third-party data in such a loosely connected network.</li>
</ul></li>
</ul>
</div>
</section>

<section id="data-provenance-astronomers" class="title-slide slide level1 center">
<h1>Data provenance: astronomers</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>Astronomers are creating an international Virtual Observatory.</p>
<ul>
<li>A <em>federation</em> of all the world significant astronomical <em>data resources</em> coupled with <em>provision of the computational resources</em> needed to exploit the data scientifically</li>
<li>Astronomy changed from being an individualistic to a <em>collective enterprise</em></li>
<li>Telescope time is devoted/allocated to systematic sky surveys, and analysis is performed using data from the archives</li>
<li>Astronomers are <em>increasingly relying on data that they did not take themselves</em></li>
<li>Raw data bear <em>many instrumental signatures that must be removed</em> in the process of generating data products <span class="citation" data-cites="mann2002some">(<a href="#/references" role="doc-biblioref" onclick="">Mann 2002</a>)</span></li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides14.jpg"></p>
<figcaption>James Webb Space Telescope (2021)</figcaption>
</figure>
</div>
</div></div>
<p><a href="https://www.esa.int/Science_Exploration/Space_Science/Webb/Webb_inspects_the_heart_of_the_Phantom_Galaxy">https://www.esa.int/Science_Exploration/Space_Science/Webb/Webb_inspects_the_heart_of_the_Phantom_Galaxy</a> (accessed 2022-08-01)</p>
</section>

<section id="data-provenance" class="title-slide slide level1 center">
<h1>Data provenance</h1>
<p>Provenance is a graph, for which we have a standard: <a href="https://www.w3.org/TR/prov-dm/">PROV-DM</a> <span class="citation" data-cites="moreau2022provenance">(<a href="#/references" role="doc-biblioref" onclick="">Moreau and Groth 2022</a>)</span></p>
<div class="columns">
<div class="column" style="width:60%;">
<p><em>Entity</em></p>
<ul>
<li>Physical/conceptual things</li>
</ul>
<p><em>Activity</em></p>
<ul>
<li>Dynamic aspects of the world, such as actions</li>
<li>How entities come into existence, often making use of previously existing entities</li>
</ul>
<p><em>Agent</em></p>
<ul>
<li>A person, a piece of software</li>
<li>Takes a role in an activity such that the agent can be assigned some degree of responsibility for the activity taking place</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides17.png"></p>
<figcaption>PROV standard</figcaption>
</figure>
</div>
</div></div>
<p><a href="https://www.w3.org/TR/2013/NOTE-prov-primer-20130430/">https://www.w3.org/TR/2013/NOTE-prov-primer-20130430/</a></p>
</section>

<section id="data-provenance-1" class="title-slide slide level1 center">
<h1>Data provenance</h1>
<div class="columns">
<div class="column" style="width:70%;">
<p>Measures of centrality</p>
<ul>
<li><strong>Betweenness centrality (A)</strong>
<ul>
<li>Number of shortest paths between two nodes that pass from a certain node</li>
</ul></li>
<li><strong>Closeness centrality (B)</strong>
<ul>
<li>Sum of distances to all other nodes.</li>
</ul></li>
<li><strong>Eigenvector centrality (C)</strong>
<ul>
<li>The score of a node is influenced by score of adjacent nodes (Page rank)</li>
</ul></li>
<li><strong>Degree centrality (D)</strong>
<ul>
<li>Number of adjacent nodes</li>
</ul></li>
</ul>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/phdslides_208.png"></p>
<figcaption>Centrality measures</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-provenance-2" class="title-slide slide level1 center">
<h1>Data provenance</h1>

<img data-src="img/slides15.png" class="r-stretch quarto-figure-center"><p class="caption">Characteristics of data provenance <span class="citation" data-cites="simmhan2005survey">(<a href="#/references" role="doc-biblioref" onclick="">Simmhan et al. 2005</a>)</span></p></section>

<section id="data-provenance-3" class="title-slide slide level1 center">
<h1>Data provenance</h1>
<p>Granularity <span class="citation" data-cites="simmhan2005survey">(<a href="#/references" role="doc-biblioref" onclick="">Simmhan et al. 2005</a>)</span></p>
<ul>
<li><em>Fine-grained</em> (instance level): tracking data items (e.g., a tuple in a dataset) transformations</li>
<li><em>Coarse-grained</em> (schema-level): tracking dataset transformations</li>
</ul>
</section>

<section id="data-provenance-fine-grained-vs-coarse-grained" class="title-slide slide level1 center">
<h1>Data provenance: fine-grained vs coarse-grained</h1>
<p>How would you document this table update?</p>
<blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<p>Original data</p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;"><code>product_id</code></th>
<th style="text-align: right;"><code>sales_v1</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">“p1”</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p2”</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">“p3”</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p4”</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">“p5”</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p6”</td>
<td style="text-align: right;">30</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>Update action: <code>sales_v2 = sales_v1 + 1</code></p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;"><code>product_id</code></th>
<th style="text-align: right;"><code>sales_v2</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">“p1”</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p2”</td>
<td style="text-align: right;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">“p3”</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p4”</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">“p5”</td>
<td style="text-align: right;">21</td>
</tr>
<tr class="even">
<td style="text-align: left;">“p6”</td>
<td style="text-align: right;">31</td>
</tr>
</tbody>
</table>
</div></div>
</blockquote>
</section>

<section id="data-provenance-fine-grained-vs-coarse-grained-1" class="title-slide slide level1 center">
<h1>Data provenance: fine-grained vs coarse-grained</h1>
<div class="columns">
<div class="column" style="width:20%;">

</div><div class="column" style="width:60%;">
<div class="columns">
<div class="column" style="width:100%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/coarsegrained.png"></p>
<figcaption>Coarse grained</figcaption>
</figure>
</div>
</div><div class="column" style="width:100%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/finegrained.png"></p>
<figcaption>Fine grained</figcaption>
</figure>
</div>
</div>
</div></div>
</div></div>
</section>

<section id="data-provenance-fine-grained-vs-coarse-grained-2" class="title-slide slide level1 center">
<h1>Data provenance: fine-grained vs coarse-grained</h1>
<p><em>Fine-grained</em> provenance is typically used for single vertical applications</p>
<ul>
<li>It requires to collect huge amounts of detailed information to enable a very detailed tracing</li>
</ul>
<p><em>Coarse-grained</em> provenance is appropriate to ensure a broad coverage of heterogeneous transformations involving several applications</p>
<p>Choosing a granularity is the <em>result of a trade-off between accuracy and computational effort</em></p>
<ul>
<li>Storing only the name and the version of a clustering algorithm enables an approximate reproducibility of the results</li>
<li>Storing all its parameters makes this functionality much more accurate</li>
</ul>
</section>

<section id="data-provenance-4" class="title-slide slide level1 center">
<h1>Data provenance</h1>
<p>Queries <span class="citation" data-cites="ikeda2009data">(<a href="#/references" role="doc-biblioref" onclick="">Ikeda and Widom 2009</a>)</span></p>
<ul>
<li><em>Where</em> provenance: given some output, which inputs did the output come from?</li>
<li><em>How</em> provenance: given some output, how were the inputs manipulated?</li>
<li><em>Why</em> provenance: given some output, why was data generated?
<ul>
<li>E.g., in the form of a proof tree that locates source data items contributing to its creation</li>
</ul></li>
</ul>

<img data-src="img/finegrained.png" class="r-stretch quarto-figure-center"><p class="caption">Fine grained</p></section>

<section id="data-provenance-5" class="title-slide slide level1 center">
<h1>Data provenance</h1>
<p>Use cases for data provenance.</p>
<ul>
<li>Accountability and auditing</li>
<li>Data quality
<ul>
<li>Monitoring of the quality (e.g., accuracy) of the objects produced</li>
<li>Notify when a transformation pipeline is not behaving as expected</li>
</ul></li>
<li>Debugging
<ul>
<li>Inferring the cause of pipeline failures is challenging</li>
<li>Store inputs of each operation with versions and environmental settings (RAM, CPUs, etc.)</li>
</ul></li>
</ul>
</section>

<section id="data-governance-data-versioning" class="title-slide slide level1 center">
<h1>Data governance: data versioning</h1>

</section>

<section id="data-versioning" class="title-slide slide level1 center">
<h1>Data versioning</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p>Version control</p>
<ul>
<li>A class of systems responsible for managing changes to computer programs, documents, or data collections</li>
<li>Changes are identified by a number/letter code, termed the revision/version number</li>
</ul>
<p>However, data pipelines are not only about code but also about</p>
<ul>
<li>Model Version control</li>
<li>Data Version Control</li>
<li>Model Parameter Tracking</li>
<li>Model Performance Comparison</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides21.png"></p>
<figcaption>CRISP-DM</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-versioning-1" class="title-slide slide level1 center">
<h1>Data versioning</h1>
<p>Support CRUD (Create, Read, Update, Delete) operations with versions.</p>
<p>For example, on <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/versioning-workflows.html">AWS (PUT, GET, DELETE)</a></p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides23.png"></p>
<figcaption>GET</figcaption>
</figure>
</div>
</div><div class="column" style="width:24%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides22.png"></p>
<figcaption>PUT</figcaption>
</figure>
</div>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides24.png"></p>
<figcaption>DELETE</figcaption>
</figure>
</div>
</div></div>
<p>What about updating?</p>
</section>

<section id="data-governance-data-compression" class="title-slide slide level1 center">
<h1>Data governance: data compression</h1>

</section>

<section id="compression" class="title-slide slide level1 center">
<h1>Compression</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>Data compression</strong> is the process of encoding information using fewer bits than the original representation</p>
<ul>
<li><em>Lossless</em>: reduces bits by identifying and eliminating redundancy
<ul>
<li>No information is lost in lossless compression</li>
<li>Examples?</li>
</ul></li>
<li><em>Lossy</em>: reduces bits by removing less important information
<ul>
<li>Examples?</li>
</ul></li>
</ul>
<p><strong>Summarization</strong>: find a concise representation of a dataset in a comprehensible, informative manner</p>
<blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<p>Transaction dataset</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>TID</th>
<th>Products</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>T1</td>
<td>Beer, Diapers, Cola</td>
</tr>
<tr class="even">
<td>T2</td>
<td>Cola, Fanta</td>
</tr>
<tr class="odd">
<td>T3</td>
<td>Beer, Cola</td>
</tr>
<tr class="even">
<td>T3</td>
<td>Beer, Diapers</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>Frequent itemset mining</p>
<p>Itemset 1: {Cola}</p>
<p>Itemset 2: {Beer}</p>
<p>Itemset 3: {Beer, Diapers}</p>
</div></div>
</blockquote>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides18.png"></p>
<figcaption>Characteristics of data summarization <span class="citation" data-cites="ahmed2019data">(<a href="#/references" role="doc-biblioref" onclick="">Ahmed 2019</a>)</span></figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-governance-entity-resolution" class="title-slide slide level1 center">
<h1>Data governance: entity resolution</h1>

</section>

<section id="entity-resolution" class="title-slide slide level1 center">
<h1>Entity resolution</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p>Entity resolution <span class="citation" data-cites="papadakis2020blocking">(<a href="#/references" role="doc-biblioref" onclick="">Papadakis et al. 2020</a>)</span></p>
<ul>
<li>(also known as entity matching, linking)</li>
<li>Find records that refer to the same entity across different data sources (e.g., data files, books, websites, and databases)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides20.png"></p>
<figcaption>Example of entity resolution</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/entityresolution.png"></p>
<figcaption>Example of entity resolution</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-governance-data-catalog" class="title-slide slide level1 center">
<h1>Data governance: data catalog</h1>

</section>

<section id="data-catalog" class="title-slide slide level1 center">
<h1>Data catalog</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>A <strong>data catalog</strong> is an organized inventory of the company’s data <span class="citation" data-cites="olesen2023enterprise">(<a href="#/references" role="doc-biblioref" onclick="">Olesen-Bagneux 2023</a>)</span></p>
<ul>
<li>The data catalog provides an overview at a metadata level only</li>
<li>No actual data values are exposed.</li>
<li>Everyone see everything without fear of exposing confidential or sensitive data.</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/datacatalog.PNG"></p>
<figcaption>Data catalog</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-catalog-1" class="title-slide slide level1 center">
<h1>Data catalog</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>Metadata is organized into <strong>domains</strong>.</p>
<ul>
<li>A domain is a group of entities sharing knowledge, goals, methods of operation, and communication</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/datacatalog-domain.PNG"></p>
<figcaption>Organization of domains</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="data-catalog-processes-vs-capabilities" class="title-slide slide level1 center">
<h1>Data catalog: processes vs capabilities</h1>
<div class="columns">
<p><em>Processes</em> describe how a company performs its tasks.</p><p><em>Capabilities</em> describe what tasks a company performs.</p><ul>
<li>Neither processes nor capabilities reflect the business units of your company 1:1.</li>
</ul><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/datacatalog-domain1.PNG"></p>
<figcaption>Process oriented</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/datacatalog-domain2.PNG"></p>
<figcaption>Capability oriented</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="case-study-data-governance-1" class="title-slide slide level1 center" data-background-color="#121011">
<h1><img src="./img/cs.svg" class="title-icon"> Case study: data governance</h1>
<p>Check Colab</p>
<p><a href="https://colab.research.google.com/github/w4bo/AA2526-unibo-bigdataandcloudplatforms/blob/main/slides/lab-01-Metadata.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>
</section>

<section id="case-study-data-catalog" class="title-slide slide level1 center" data-background-color="#121011">
<h1><img src="./img/cs.svg" class="title-icon"> Case study: data catalog</h1>
<p><a href="http://localhost:9002/">Link to the DataHub catalog</a></p>
</section>

<section id="end-of-the-case-study-2" class="title-slide slide level1 center" data-background-color="#121011">
<h1>End of the case study</h1>

</section>

<section id="data-governance-meta-metadata-management" class="title-slide slide level1 center">
<h1>Data governance: meta-metadata management</h1>

</section>

<section id="data-platform-26" class="title-slide slide level1 center">
<h1>Data platform</h1>
<p>Are we done? No!</p>
<ul>
<li>Metadata can become bigger than the data itself</li>
</ul>
<p>We need meta meta-data (or models)…</p>
<ul>
<li>… chasing our own tails</li>
</ul>
<p>Data management is still a (research) issue in data platforms.</p>
</section>





<section id="how-do-we-build-data-platforms" class="title-slide slide level1 center">
<h1>How do we build data platforms?</h1>

</section>

<section id="data-fabric" class="title-slide slide level1 center">
<h1>Data fabric</h1>
<p><strong>Data fabric</strong> is a “vision for data management […] that seamlessly connects different clouds, whether they are private or public environments.” (<a href="https://cloud.netapp.com/hubfs/Data-Fabric/Data%20Fabric%20WP%20April%202017.pdf">2016</a>)</p>
<p>Frictionless access and sharing of data in a distributed data environment</p>
<ul>
<li>Enables a <em>single and consistent data management framework</em></li>
<li><em>Continuously identifies and connects data</em> from disparate applications to discover unique business-relevant relationships</li>
</ul>
<p>It is a unified architecture with an integrated set of technologies and services.</p>
<ul>
<li>Designed to deliver integrated and enriched data at the right time, in the right method, and to the right data consumer</li>
<li>Combines key data management technologies such as <em>data governance</em>, <em>integration</em>, <em>pipelining</em>, and <em>orchestration</em></li>
</ul>
<p><a href="https://www.gartner.com/smarterwithgartner/data-fabric-architecture-is-key-to-modernizing-data-management-and-integration">Gartner (2021). Data fabric architecture</a></p>
<p><a href="https://www.k2view.com/what-is-data-fabric/">K2View Whitepaper (2021). What is a Data Fabric? The Complete Guide</a></p>
</section>

<section id="data-fabric-example-from-cloudera" class="title-slide slide level1 center">
<h1>Data fabric: example from Cloudera</h1>

<img data-src="img/CDP-diagram-sm.png" class="r-stretch quarto-figure-center"><p class="caption">Cloudera SDX</p></section>

<section id="data-fabric-1" class="title-slide slide level1 center">
<h1>Data fabric</h1>
<p><strong>It is a design concept</strong></p>
<ul>
<li>It optimizes data management by automating repetitive tasks</li>
<li>According to Gartner estimates, 25% of data management vendors will provide a complete framework for data fabric by 2024 – up from 5% today</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides34.png"></p>
<figcaption>Providers</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides35.png"></p>
<figcaption>Providers</figcaption>
</figure>
</div>
</div></div>
<p><a href="https://www.gartner.com/smarterwithgartner/data-fabric-architecture-is-key-to-modernizing-data-management-and-integration">Gartner (2021). Data fabric is key to modernizing data management</a></p>
</section>

<section id="data-fabric-2" class="title-slide slide level1 center">
<h1>Data fabric</h1>
<ul>
<li><em>Catalog all data</em>: Cover business glossary, design-time, and runtime metadata.</li>
<li><em>Enable self-service capabilities</em>: Support data discovery, profiling, exploration, quality checks, and consumption.</li>
<li><em>Provide a knowledge graph</em>: Visualize links among data, people, processes, and systems for actionable insight.</li>
<li><em>Deliver automatic integration</em>: Help IT and business users with data integration, transformation, virtualization, and federation.</li>
<li><em>Manage unified lifecycle</em>: Maintain a consistent end-to-end Data Fabric lifecycle across platforms and teams.</li>
</ul>
</section>

<section id="data-fabric-3" class="title-slide slide level1 center">
<h1>Data fabric</h1>
<div class="columns">
<div class="column" style="width:55%;">
<p><strong>Active metadata</strong>: leverage open APIs to connect platform services using metadata.</p>
<p><em>Active metadata is always on</em></p>
<ul>
<li>Automatically and continually collect metadata from various sources.</li>
</ul>
<p><em>Active metadata is “intelligent”</em>:</p>
<ul>
<li>Constantly process metadata to connect the dots and create intelligence.</li>
<li>E.g., auto-classify sensitive data, automatic suggestions to document data.</li>
</ul>
<p><em>Active metadata is action-oriented</em></p>
<ul>
<li>Active metadata should drive actions such as curating recommendations</li>
</ul>
<p><em>Active metadata is open by default</em></p>
<ul>
<li>Use APIs to hook into every piece of the data platform.</li>
</ul>
</div><div class="column" style="width:45%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides37.png"></p>
<figcaption>Data fabric</figcaption>
</figure>
</div>
</div></div>
<p><a href="https://www.gartner.com/smarterwithgartner/data-fabric-architecture-is-key-to-modernizing-data-management-and-integration">Gartner (2021). Data fabric is key to modernizing data management</a></p>
</section>

<section id="automation-through-orchestration" class="title-slide slide level1 center">
<h1>Automation through orchestration</h1>
<p>The orchestrator is the component in charge of controlling the execution of computation activities</p>
<ul>
<li>Either through a regular scheduling of the activities</li>
<li>Or by triggering a process in response to a certain event</li>
</ul>
<p>Several entities (either processes or human beings) can cover this role to activate some data processes</p>
</section>

<section id="automation-through-orchestration-1" class="title-slide slide level1 center">
<h1>Automation through orchestration</h1>
<p>Dynamic/condition-based behavior</p>
<ul>
<li>Decide <em>what</em> data process should be activated under different conditions</li>
<li>Decide <em>how</em> to tune the parameters in case of parametric data processes</li>
</ul>
<p>Triggering</p>
<ul>
<li>Decide <em>when</em> to trigger a certain data process</li>
</ul>
<p>Scoping</p>
<ul>
<li>Assess the trustworthiness of objects to decide <em>if</em> a certain data process should be activated or not</li>
</ul>
<p>Resource estimation or prediction (based on previous executions and current settings)</p>
<ul>
<li>Decide the optimal amount of resources required to terminate successfully while leaving sufficient resources to the other concurrent process</li>
<li>Negotiate the resources with the cluster’s resource manager</li>
</ul>
</section>

<section id="automation-through-orchestration-2" class="title-slide slide level1 center">
<h1>Automation through orchestration</h1>
<div class="columns">
<div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/phdslides_209.png"></p>
<figcaption><span class="citation" data-cites="barika2019orchestrating">(<a href="#/references" role="doc-biblioref" onclick="">Barika et al. 2019</a>)</span></figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<p>R1 Compute/CPU resource provisioning</p>
<ul>
<li>Determine the right amount of resources</li>
<li>Continuous management in a dynamic environment</li>
</ul>
<p>R2 Storage</p>
<ul>
<li>Choose the right cloud storage resource, data location, and format (if the application is parametric)</li>
</ul>
<p>R3 Data movement</p>
<ul>
<li>Dynamically transfer large datasets between compute and storage resources</li>
</ul>
<p>R4 Synchronization and asynchronization</p>
<ul>
<li>Manage data flow dependencies across analytics tasks</li>
</ul>
</div></div>
</section>

<section id="automation-through-orchestration-3" class="title-slide slide level1 center">
<h1>Automation through orchestration</h1>
<div class="columns">
<div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/phdslides_209.png"></p>
<figcaption><span class="citation" data-cites="barika2019orchestrating">(<a href="#/references" role="doc-biblioref" onclick="">Barika et al. 2019</a>)</span></figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<p>R5 Analytic Task Scheduling and Execution</p>
<ul>
<li>Coordinate workflows across diverse big data models</li>
<li>Track and capture data provenance</li>
</ul>
<p>R6 Service Level Agreement</p>
<ul>
<li>Meet user-defined QoS, such as strict deadlines</li>
</ul>
<p>R7 Security</p>
<ul>
<li>Support anonymous computation, verify outcomes in multi-party settings, etc.</li>
</ul>
<p>R8 Monitoring and Failure-Tolerance</p>
<ul>
<li>Ensure streamlined execution</li>
<li>Handle or predict failures as they occur</li>
</ul>
</div></div>
</section>

<section id="data-mesh" class="title-slide slide level1 center">
<h1>Data mesh</h1>
<p>Distributed data architecture under centralized governance and standardization for interoperability, enabled by a shared and harmonized self-serve data infrastructure</p>
<ul>
<li><em>Domain-oriented decentralized data ownership</em>
<ul>
<li>Decentralization and distribution of responsibility to people who are closest to the data, to support continuous change and scalability</li>
<li>Each domain exposes its own op/analytical APIs</li>
</ul></li>
<li><strong>Data as a product</strong> (<em>quantum</em>)
<ul>
<li>Products must be discoverable, addressable, trustworthy, self-describing, and secure</li>
</ul></li>
<li><em>Self-serve data infrastructure as a platform</em>
<ul>
<li>High-level abstraction of infrastructure to provision and manage the lifecycle of data products</li>
</ul></li>
<li><em>Federated computational governance</em>
<ul>
<li>A governance model that embraces decentralization and domain self-sovereignty, interoperability through global standardization, a dynamic topology, and automated execution of decisions by the platform</li>
</ul></li>
</ul>
<p><a href="https://martinfowler.com/articles/data-monolith-to-mesh.html">Zhamak Dehghani (2019). Data monolith to mesh</a></p>
<p><a href="https://martinfowler.com/articles/data-mesh-principles.html">Zhamak Dehghani (2020). Data mesh principles</a></p>
<p><a href="https://www.youtube.com/watch?v=_bmYXWCxF_Q">Zhamak Dehghani (2021). Introduction to Data Mesh</a></p>
</section>

<section id="data-mesh-1" class="title-slide slide level1 center">
<h1>Data mesh</h1>
<div class="columns">
<div class="column" style="width:50%;">
<p>Data Mesh organizes data around <strong>business domain owners</strong> and transforms relevant data assets (data sources) to <strong>data products</strong> that can be consumed by distributed business users from various business domains or functions.</p>
<ul>
<li>Data products are created, governed, and used in an <strong>autonomous, decentralized</strong>, and self-service manner</li>
<li><strong>Self-service capabilities</strong>, which we have already referenced as a Data Fabric capability, enable business organizations to entertain a data marketplace with shopping-for-data characteristics</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides38.png"></p>
<figcaption>Data mesh</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="what-makes-data-a-product" class="title-slide slide level1 center">
<h1>What makes data a product?</h1>
<p>A <strong>data product</strong> is raw data transformed into a business context</p>
<ul>
<li>Data products are registered in the <strong>knowledge catalog</strong> through specifications (XML, JSON, etc.).</li>
<li>Data products need to be searchable and discoverable by potential data product consumers and business users.
<ul>
<li><em>Cataloged</em>: All data products need to be registered in the knowledge catalog.</li>
<li><em>Data product description</em>: The data product needs to be well-described.</li>
<li><em>Access methods</em>: for example, REST APIs, SQL, NoSQL, etc., and where to find the data asset.</li>
<li><em>Policies and rules</em>: who is allowed to consume the data product for what purpose.</li>
<li><em>SLAs</em>: agreements regarding the data product availability, performance characteristics, functions, and cost of data product usage.</li>
</ul></li>
<li>Data products themselves are not stored in the knowledge catalog</li>
</ul>
</section>

<section id="case-study-data-mesh" class="title-slide slide level1 center" data-background-color="#121011">
<h1><img src="./img/cs.svg" class="title-icon"> Case study: data mesh</h1>
<p>Check the seminars from HERA.</p>
</section>

<section id="end-of-the-case-study-3" class="title-slide slide level1 center" data-background-color="#121011">
<h1>End of the case study</h1>

</section>

<section id="data-mesh-vs-data-fabric" class="title-slide slide level1 center">
<h1>Data mesh vs data fabric</h1>
<p>They are design concepts, not things.</p>
<ul>
<li>They are not mutually exclusive</li>
<li>They are architectural frameworks, not architectures
<ul>
<li>The frameworks must be adapted and customized to your needs, data, processes, and terminology</li>
<li>Gartner estimates 25% of data management vendors will provide a complete data fabric solution by 2024 – up from 5% today</li>
</ul></li>
</ul>
<p>Alex Woodie, 2021 <a href="https://www.datanami.com/2021/10/25/data-mesh-vs-data-fabric-understanding-the-differences/">https://www.datanami.com/2021/10/25/data-mesh-vs-data-fabric-understanding-the-differences/</a></p>
<p>Dave Wells, 2021 <a href="https://www.eckerson.com/articles/data-architecture-complex-vs-complicated">https://www.eckerson.com/articles/data-architecture-complex-vs-complicated</a></p>
</section>

<section id="data-mesh-vs-data-fabric-1" class="title-slide slide level1 center">
<h1>Data mesh vs data fabric</h1>
<p>Both provide an architectural framework to access data across multiple technologies and platforms.</p>
<p><strong>Data fabric</strong></p>
<ul>
<li>Attempts to centralize and coordinate data management</li>
<li>Tackles the complexity of data and metadata in a smart way that works well together</li>
<li>Focus on the architectural, technical capabilities, and intelligent analysis to produce active metadata supporting a smarter, AI-infused system to orchestrate various data integration styles</li>
</ul>
<p><strong>Data mesh</strong></p>
<ul>
<li>Emphasis on decentralization and data domain autonomy</li>
<li>Focuses on organizational change; it is more about people and process</li>
<li>Data are primarily organized around domain owners who create business-focused data products, which can be aggregated and consumed across distributed consumers</li>
</ul>
<p>Alex Woodie, 2021 <a href="https://www.datanami.com/2021/10/25/data-mesh-vs-data-fabric-understanding-the-differences/">https://www.datanami.com/2021/10/25/data-mesh-vs-data-fabric-understanding-the-differences/</a></p>
<p>Dave Wells, 2021 <a href="https://www.eckerson.com/articles/data-architecture-complex-vs-complicated">https://www.eckerson.com/articles/data-architecture-complex-vs-complicated</a></p>
</section>

<section id="data-mesh-vs-data-fabric-2" class="title-slide slide level1 center">
<h1>Data mesh vs data fabric</h1>

<img data-src="img/slides39.png" class="r-stretch quarto-figure-center"><p class="caption">Data mesh vs data fabric</p></section>

<section id="data-mesh-vs-data-fabric-3" class="title-slide slide level1 center">
<h1>Data mesh vs data fabric</h1>
<p>Data Fabric and Mesh are the results of the data architecture evolution.</p>
<ul>
<li><strong>Many capabilities were in existence already long before</strong> the terms were coined</li>
</ul>
<p>Takeaway:</p>
<ul>
<li>Abstract the “building blocks” of such platforms</li>
<li>Let them evolve according to scalability and flexibility requirements</li>
</ul>
</section>

<section id="data-mesh-2" class="title-slide slide level1 center">
<h1>Data mesh</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/hypecycle-dm-2024.png"></p>
<figcaption>2024</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/hypecycle-dm-2025.png"></p>
<figcaption>2025</figcaption>
</figure>
</div>
</div></div>
<p>As new technologies and solutions mature to support a centralized approach to data access, distributed approaches like Data Mesh are expected to fall increasingly out of favor in enterprise IT.</p>
</section>

<section id="data-mesh-3" class="title-slide slide level1 center">
<h1>Data mesh</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/hypecycle-dm-2023.png"></p>
<figcaption>2023</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/hypecycle-dm-2024.png"></p>
<figcaption>2024</figcaption>
</figure>
</div>
</div></div>
<p>As new technologies and solutions mature to support a centralized approach to data access, distributed approaches like Data Mesh are expected to fall increasingly out of favor in enterprise IT.</p>
</section>

<section id="wooclap-examples-of-exam-questions" class="title-slide slide level1 center">
<h1>Wooclap (examples of exam questions)</h1>
<iframe allowfullscreen="" frameborder="0" height="100%" mozallowfullscreen="" src="https://app.wooclap.com/LKDKIY/questionnaires/670e89be981e282b0b69ee7c" style="min-height: 550px; min-width: 300px" width="100%">
</iframe>
</section>

<section id="some-references" class="title-slide slide level1 center">
<h1>(Some) References</h1>
<div class="columns">
<div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides40.jpg"></p>
<figcaption>Ref 1</figcaption>
</figure>
</div>
</div><div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides41.png"></p>
<figcaption>Ref 2</figcaption>
</figure>
</div>
</div><div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides42.png"></p>
<figcaption>Ref 3</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="example-of-data-platform-hadoop-based" class="title-slide slide level1 center">
<h1>Example of data platform: Hadoop-based</h1>
<p>A data platform on the Hadoop stack requires several tools.</p>

<img data-src="img/74.svg" class="r-stretch quarto-figure-center"><p class="caption">Hadoop-based data platform</p><p>How many levels of complexity are hidden here?</p>
<p>How do you provision it?</p>
<ul>
<li>Manual provisioning on-premises</li>
<li>Semi-automatic provisioning on-premises</li>
<li>Automatic provisioning in the cloud</li>
</ul>
</section>

<section id="example-of-architecture" class="title-slide slide level1 center">
<h1>“Example” of architecture</h1>

<img data-src="img/slides43.jpg" class="r-stretch quarto-figure-center"><p class="caption">https://xkcd.com/2347/</p><p>(*) “Ormai sta xkcd é una base troppo usata” A. Tappi</p>
</section>

<section id="on-premises-manual-provisioning" class="title-slide slide level1 center">
<h1>On-premises manual provisioning</h1>
<p>It is hardly advisable, if not for small and local tests.</p>
<p><strong>Technical challenges</strong></p>
<ul>
<li>Installation: how do I set up a new machine?</li>
<li>Networking: how do I cable dozens of machines?</li>
<li>Management: how do I replace a broken disk?</li>
<li>Upgrade: how do I extend the cluster with new services/machines?</li>
<li>(energy and cooling, software licenses, insurance…)</li>
</ul>
<p><strong>Technological challenges</strong></p>
<ul>
<li>How do we configure a distributed environment?</li>
<li>How do we set up/integrate/control independent services?</li>
<li>How do we orchestrate data flows?</li>
</ul>
<p><strong>Business challenges</strong></p>
<ul>
<li>Can we afford to spend resources on tasks that are not mission-oriented?</li>
<li>No free lunch, each choice has a cost/benefit</li>
<li>How much time does it take to master a technology?</li>
<li>How many people do I need?</li>
</ul>
</section>

<section id="data-platform-related-job-positions" class="title-slide slide level1 center">
<h1>Data platform: related job positions</h1>

<img data-src="img/slides28.png" class="r-stretch quarto-figure-center"><p class="caption">(Big) data pipeline</p></section>

<section id="data-platform-related-job-positions-1" class="title-slide slide level1 center">
<h1>Data platform: related job positions</h1>
<p><em>Data platform engineer</em></p>
<ul>
<li>Orchestrate the successful implementation of cloud technologies within the data infrastructure of their business</li>
<li>Solid understanding of impact database types and implementation</li>
<li>Responsible for purchasing decisions for cloud services and approval of data architectures</li>
</ul>
<p><em>Data architect</em></p>
<ul>
<li>Team members who understand all aspects of a data platform’s architecture</li>
<li>Work closely with the data platform engineers to create data workflows</li>
</ul>
<p><em>Data scientist</em></p>
<ul>
<li>Analyze and interpret complex digital data</li>
<li>Work with new technologies (e.g., machine learning) to deepen the business’s understanding and gain new insights</li>
</ul>
<p><em>Data analyst</em></p>
<ul>
<li>Analyze data systems, creating automated systems for retrieving data from the data platform</li>
<li>Cloud data analysts are more commonly members of the business user population</li>
</ul>
</section>

<section id="from-devops" class="title-slide slide level1 center">
<h1>From DevOps…</h1>
<p><strong>DevOps</strong> combines development and operations to increase the efficiency, speed, and security of software development and delivery compared to traditional processes.</p>
<p>DevOps practices enable software development (dev) and operations (ops) teams to accelerate delivery through automation, collaboration, fast feedback, and iterative improvement.</p>

<img data-src="img/slides29.png" class="r-stretch quarto-figure-center"><p class="caption">DevOps</p><p><a href="https://about.gitlab.com/topics/devops/">https://about.gitlab.com/topics/devops/</a> (accessed 2023-06-03)</p>
</section>

<section id="to-dataops" class="title-slide slide level1 center">
<h1>… to DataOps</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p><strong>DataOps</strong> refers to a general process aimed at shortening the end-to-end data analytics life-cycle time by introducing automation in the data collection, validation, and verification process</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides30.png"></p>
<figcaption>Evolution of DataOps <span class="citation" data-cites="munappy2020ad">(<a href="#/references" role="doc-biblioref" onclick="">Munappy et al. 2020</a>)</span></figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides31.png"></p>
<figcaption>Evolution of DataOps</figcaption>
</figure>
</div>
</div></div>
</section>

<section id="dataops" class="title-slide slide level1 center">
<h1>DataOps</h1>
<div class="columns">
<div class="column" style="width:60%;">
<p>From DevOps to DataOps</p>
<ul>
<li>“A collaborative data management practice focused on improving the <em>communication, integration and automation of data flows between data managers and data consumers across an organization</em>”</li>
<li>Data analytics improved in terms of velocity, quality, predictability, and scale of software engineering and deployment</li>
</ul>
<p>Some key rules</p>
<ul>
<li>Establish progress and performance measurements at every stage</li>
<li>Automate as many stages of the data flow as possible</li>
<li>Establish governance discipline (<em>governance-as-code</em>)</li>
<li>Design process for growth and extensibility</li>
</ul>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides32.png"></p>
<figcaption>DevOps</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/slides33.png"></p>
<figcaption>DataOps</figcaption>
</figure>
</div>
</div></div>
<p>Gartner, 2020 <a href="https://www.gartner.com/smarterwithgartner/how-dataops-amplifies-data-and-analytics-business-value">https://www.gartner.com/smarterwithgartner/how-dataops-amplifies-data-and-analytics-business-value</a></p>
<p>Andy Palmer, 2015 <a href="https://www.tamr.com/blog/from-devops-to-dataops-by-andy-palmer/">https://www.tamr.com/blog/from-devops-to-dataops-by-andy-palmer/</a></p>
<p>William Vorhies, 2017 <a href="https://www.datasciencecentral.com/profiles/blogs/dataops-it-s-a-secret">https://www.datasciencecentral.com/profiles/blogs/dataops-it-s-a-secret</a></p>
</section>

<section id="summing-up" class="title-slide slide level1 center">
<h1>Summing up</h1>
<p>Storage should be flexible enough to support heterogeneous data models and raw data.</p>
<ul>
<li>From operational databases to DWHs <strong>(why?)</strong></li>
<li>From relational data models to NoSQL <strong>(why?)</strong></li>
<li>Data lake to (directly) ingest raw data</li>
</ul>
<p>Storage, <em>per se</em>, is insufficient to get value from the data <strong>(examples?)</strong></p>
<ul>
<li>We also need data processing and fruition</li>
<li>Data lakes are blurring into data platforms</li>
</ul>
<p>Data platforms support end-to-end data needs <strong>(which ones?)</strong></p>
<ul>
<li>Building data platforms is hard <strong>(why?)</strong></li>
<li>Managing data platforms is hard; exploit metadata to ease this task</li>
<li>Data lineage, compression, profiling, resolution, etc.</li>
</ul>
<p><strong>Open question</strong>: How do we deploy working data platforms?</p>
</section>

<section id="how-do-i-know-if-i-am-prepared-for-the-exam" class="title-slide slide level1 center">
<h1>How do I know if I am prepared for the exam?</h1>
<div class="fragment">
<p>Open a random slide, are you able to explain its content and connect it to the rest of the topics?</p>
</div>
</section>

<section id="references" class="title-slide slide level1 smaller scrollable">
<h1>References</h1>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-ahmed2019data" class="csl-entry" role="listitem">
Ahmed, Mohiuddin. 2019. <span>“Data Summarization: A Survey.”</span> <em>Knowledge and Information Systems</em> 58 (2): 249–73.
</div>
<div id="ref-armbrust2021lakehouse" class="csl-entry" role="listitem">
Armbrust, Michael, Ali Ghodsi, Reynold Xin, and Matei Zaharia. 2021. <span>“Lakehouse: A New Generation of Open Platforms That Unify Data Warehousing and Advanced Analytics.”</span> In <em>Proceedings of CIDR</em>, 8:28.
</div>
<div id="ref-barika2019orchestrating" class="csl-entry" role="listitem">
Barika, Mutaz, Saurabh Garg, Albert Y Zomaya, Lizhe Wang, Aad Van Moorsel, and Rajiv Ranjan. 2019. <span>“Orchestrating Big Data Analysis Workflows in the Cloud: Research Challenges, Survey, and Future Directions.”</span> <em>ACM Computing Surveys (CSUR)</em> 52 (5): 1–41.
</div>
<div id="ref-bruno2002exploiting" class="csl-entry" role="listitem">
Bruno, Nicolas, and Surajit Chaudhuri. 2002. <span>“Exploiting Statistics on Query Expressions for Optimization.”</span> In <em>Proceedings of the 2002 ACM SIGMOD International Conference on Management of Data</em>, 263–74.
</div>
<div id="ref-DBLP:journals/cacm/Codd70" class="csl-entry" role="listitem">
Codd, E. F. 1970. <span>“A Relational Model of Data for Large Shared Data Banks.”</span> <em>Commun. <span>ACM</span></em> 13 (6): 377–87. <a href="https://doi.org/10.1145/362384.362685">https://doi.org/10.1145/362384.362685</a>.
</div>
<div id="ref-couto2019mapping" class="csl-entry" role="listitem">
Couto, Julia, Olimar Teixeira Borges, Duncan D Ruiz, Sabrina Marczak, and Rafael Prikladnicki. 2019. <span>“A Mapping Study about Data Lakes: An Improved Definition and Possible Architectures.”</span> In <em>SEKE</em>, 453–578.
</div>
<div id="ref-forresi2021dataspace" class="csl-entry" role="listitem">
Forresi, Chiara, Enrico Gallinucci, Matteo Golfarelli, and Hamdi Ben Hamadou. 2021. <span>“A Dataspace-Based Framework for OLAP Analyses in a High-Variety Multistore.”</span> <em>The VLDB Journal</em> 30 (6): 1017–40.
</div>
<div id="ref-DBLP:conf/hicss/GolfarelliMR98" class="csl-entry" role="listitem">
Golfarelli, Matteo, Dario Maio, and Stefano Rizzi. 1998a. <span>“Conceptual Design of Data Warehouses from <span>E/R</span> Schema.”</span> In <em>Thirty-First Annual Hawaii International Conference on System Sciences, Kohala Coast, Hawaii, USA, January 6-9, 1998</em>, 334–43. <span>IEEE</span> Computer Society. <a href="https://doi.org/10.1109/HICSS.1998.649228">https://doi.org/10.1109/HICSS.1998.649228</a>.
</div>
<div id="ref-DBLP:journals/ijcis/GolfarelliMR98" class="csl-entry" role="listitem">
———. 1998b. <span>“The Dimensional Fact Model: <span>A</span> Conceptual Model for Data Warehouses.”</span> <em>Int. J. Cooperative Inf. Syst.</em> 7 (2-3): 215–47. <a href="https://doi.org/10.1142/S0218843098000118">https://doi.org/10.1142/S0218843098000118</a>.
</div>
<div id="ref-golfarelli2009data" class="csl-entry" role="listitem">
Golfarelli, Matteo, and Stefano Rizzi. 2009. <em>Data Warehouse Design: Modern Principles and Methodologies</em>. McGraw-Hill, Inc.
</div>
<div id="ref-herschel2017survey" class="csl-entry" role="listitem">
Herschel, Melanie, Ralf Diestelkämper, and Houssem Ben Lahmar. 2017. <span>“A Survey on Provenance: What for? What Form? What From?”</span> <em>The VLDB Journal</em> 26 (6): 881–906.
</div>
<div id="ref-ikeda2009data" class="csl-entry" role="listitem">
Ikeda, Robert, and Jennifer Widom. 2009. <span>“Data Lineage: A Survey.”</span> Stanford InfoLab.
</div>
<div id="ref-mann2002some" class="csl-entry" role="listitem">
Mann, Bob. 2002. <span>“Some Data Derivation and Provenance Issues in Astronomy.”</span> In <em>Workshop on Data Derivation and Provenance, Chicago</em>.
</div>
<div id="ref-moreau2022provenance" class="csl-entry" role="listitem">
Moreau, Luc, and Paul Groth. 2022. <em>Provenance: An Introduction to PROV</em>. Springer Nature.
</div>
<div id="ref-munappy2020ad" class="csl-entry" role="listitem">
Munappy, Aiswarya Raj, David Issa Mattos, Jan Bosch, Helena Holmström Olsson, and Anas Dakkak. 2020. <span>“From Ad-Hoc Data Analytics to Dataops.”</span> In <em>Proceedings of the International Conference on Software and System Processes</em>, 165–74.
</div>
<div id="ref-naumann2014data" class="csl-entry" role="listitem">
Naumann, Felix. 2014. <span>“Data Profiling Revisited.”</span> <em>ACM SIGMOD Record</em> 42 (4): 40–49.
</div>
<div id="ref-olesen2023enterprise" class="csl-entry" role="listitem">
Olesen-Bagneux, Ole. 2023. <em>The Enterprise Data Catalog</em>. "O’Reilly Media, Inc.".
</div>
<div id="ref-ozsu2018" class="csl-entry" role="listitem">
Özsu, M. Tamer. 2018. <span>“Database.”</span> In <em>Encyclopedia of Database Systems</em>, edited by Ling Liu and M. Tamer Özsu, 931–32. New York, NY: Springer New York. <a href="https://doi.org/10.1007/978-1-4614-8265-9_80734">https://doi.org/10.1007/978-1-4614-8265-9_80734</a>.
</div>
<div id="ref-papadakis2020blocking" class="csl-entry" role="listitem">
Papadakis, George, Dimitrios Skoutas, Emmanouil Thanos, and Themis Palpanas. 2020. <span>“Blocking and Filtering Techniques for Entity Resolution: A Survey.”</span> <em>ACM Computing Surveys (CSUR)</em> 53 (2): 1–42.
</div>
<div id="ref-simmhan2005survey" class="csl-entry" role="listitem">
Simmhan, Yogesh L, Beth Plale, Dennis Gannon, et al. 2005. <span>“A Survey of Data Provenance Techniques.”</span> <em>Computer Science Department, Indiana University, Bloomington IN</em> 47405: 69.
</div>
</div>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Matteo Francia - Big Data and Cloud Platforms (Module 2) - A.Y. 2025/26</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="01-dataplatforms_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="01-dataplatforms_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="01-dataplatforms_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="01-dataplatforms_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': true,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>